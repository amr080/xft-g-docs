<!doctype html>
<html>
  <head>

<!--
This was built with https://github.com/lord/slate

© Copyright 2021 Gemini Trust Company, LLC.
 -->

    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Gemini WebSocket API Reference</title>

    <link href="../stylesheets/screen-5619571e.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print-f82aaaf9.css" rel="stylesheet" media="print" />
    <link rel="stylesheet" type="text/css" href="//cloud.typography.com/7630154/729946/css/fonts.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../javascripts/all-967b56e5.js"></script>

      <script>
        $(function() {
          setupLanguages(["python","shell"]);
        });
      </script>
  </head>

  <body class="websocket-api websocket-api_index" data-languages="[&quot;python&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a id="logo" href="https://gemini.com"><img src="../images/gemini_api_dark_bg-ead2d197.svg" width="128" height="27" alt="" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>

      <div id="menu">
        <p id="sandbox-message">You are viewing the Gemini sandbox documentation</p>
        <div class="nav-label">Select an API Document:</div>
        <ul>
          <li id="gemini-clearing"><a href="/gemini-clearing/" >Gemini Clearing™</a></li>
          <li id="rest"><a href="/rest-api/" >REST</a></li>
          <li id="oauth"><a href="/oauth/" >OAuth</a></li>
          <li id="websocket"><a href="/websocket-api/" >WebSocket</a></li>
          <li id="fix-api"><a href="/fix-api/" >FIX Order Entry</a></li>
          <li id="fix-marketdata"><a href="/fix-marketdata/" >FIX Market Data</a></li>
          <li id="fix-dropcopy"><a href="/fix-dropcopy/" >FIX Drop Copy</a></li>
          <li id="instant"><a href="/instant/" >Gemini Instant</a></li>
        </ul>
      </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Trust is Our Product™</li>
            <li>For trademarks and patents, please <br> see the <a href="https://gemini.com/legal-notice">Legal Notice</a>.</li>
            <li>NMLS <span>#1518126</span></li>
            <li>© Copyright 2022 Gemini Trust <br> Company, LLC.</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>Gemini offers two WebSocket APIs for streaming data:</p>

<ol>
<li>a private <a href="#order-events">Order Events</a> API</li>
<li>a public <a href="#market-data">Market Data</a> API</li>
</ol>

<p>Advantages include:</p>

<ul>
<li>receive notifications in real time</li>
<li>reduce the amount of data you have to transfer over the network</li>
<li>reduce latency introduced by polling interval</li>
</ul>

<p>For example, to keep track of your orders, you might be requesting the <a href="/rest-api/#get-active-orders">Get Active Orders</a> endpoint every five seconds:</p>

<ol>
<li>request <code class="prettyprint">/v1/orders</code></li>
<li>bring back HTTP header data and a response body</li>
<li>parse the JSON in the response body</li>
<li>compare the latest response against the previous response to see what has changed</li>
</ol>

<p>Using the private <a href="#order-events">Order Events</a> API, you would subscribe once and receive real time notifications of all order activity.</p>

<p>For general information about how the WebSocket protocol works, refer to:</p>

<ul>
<li><a href="https://websocket.org/aboutwebsocket.html">About HTML5 WebSocket</a></li>
<li><a href="https://tools.ietf.org/html/rfc6455">RFC 6455 The WebSocket Protocol</a></li>
</ul>

<h2 id="survey">Survey</h2>

<p>Please complete our <a href="https://geminiapi.typeform.com/to/Ryq6yl">API Use Survey</a> to help us improve your experience using the Gemini APIs.</p>

          <h1 id="sandbox">Sandbox</h1>

<p>Gemini&#39;s <a href="https://exchange.sandbox.gemini.com">sandbox site</a> is an instance of the Gemini Exchange that offers full exchange functionality using test funds.  </p>

<ul>
<li>Gemini has an automated system that makes trades on the exchange to simulate normal exchange activity</li>
<li>all funds are for testing purposes. Only Testnet BTC deposits and withdrawals are supported.</li>
</ul>

<h2 id="sandbox-urls">Sandbox URLs</h2>

<p><strong>Website</strong>
<br/>
<a href="https://exchange.sandbox.gemini.com">https://exchange.sandbox.gemini.com</a></p>

<p><strong>REST API</strong>
<br/>
<a href="https://api.sandbox.gemini.com">https://api.sandbox.gemini.com</a></p>

<p><strong>WebSocket Feed</strong>
<br/>
<a href="wss://api.sandbox.gemini.com">wss://api.sandbox.gemini.com</a></p>

<p><strong>Documentation</strong>
<br/>
<a href="https://docs.sandbox.gemini.com">https://docs.sandbox.gemini.com</a></p>

<h2 id="create-your-account">Create your account</h2>

<p>Go to the <a href="https://exchange.sandbox.gemini.com">sandbox site</a> to register for a test account to begin trading.  </p>

<ul>
<li>use the website to get comfortable trading on Gemini </li>
<li>use the API to validate your trading systems before deploying them against the real Gemini exchange</li>
</ul>

<p>Your account will automatically be credited with USD, BTC, ETH, BCH, LTC, OXT, LINK, BAT and DAI.  You may use these funds to trade, both through the web site and through the API.  </p>

<p>Gemini&#39;s sandbox site does not support either depositing or withdrawing your test funds, which can only be used to trade on the sandbox exchange.</p>

<p>Sandbox does not support email notifications. If you need this as part of your testing plan, please contact <a href="mailto:trading@gemini.com">trading@gemini.com</a>.</p>

<p>If you have any issues, or if you need to adjust your balances (to test insufficient funds handling, for example), contact <a href="mailto:trading@gemini.com">trading@gemini.com</a>.</p>

<h2 id="two-factor-authentication">Two Factor Authentication</h2>

<p>Two factor authentication (&quot;2FA&quot;) is enabled by default for all sandbox accounts. To disable 2FA for automated testing, please do the following: </p>

<ol>
<li>At the Authy 2FA entry screen, set a cookie or an HTTP header with the name GEMINI-SANDBOX-2FA.  The value doesn’t matter.</li>
<li>Enter 9999999 as your 2FA code</li>
</ol>

          <h1 id="rate-limits">Rate Limits</h1>

<p>To prevent abuse, Gemini imposes rate limits on incoming requests as described in the <a href="https://gemini.com/api-agreement/">Gemini API Agreement</a>.  </p>

<p>For public WebSocket APIs, we recommend that you do not exceed 1 request per symbol per minute.</p>

          <h1 id="requests">Requests</h1>

<p>Both public and private WebSocket API requests begin with a GET request that includes headers asking for an upgrade to the WebSocket protocol.  </p>

<p>However, the private API WebSocket request also includes the standard <a href="#private-api-invocation">private API headers</a>.</p>

<p>The <a href="https://tools.ietf.org/html/rfc6455#section-11.3.1">Sec-WebSocket-Key</a> and <a href="https://tools.ietf.org/html/rfc6455#section-11.3.5">Sec-WebSocket-Version</a> headers shown in the examples wll be added by your WebSocket client.  See the <a href="https://tools.ietf.org/html/rfc6455">WebSocket RFC</a> for more detail.</p>

<h3 id="public-api-request-headers">Public API request headers</h3>

<p><code class="example">
GET wss://api.gemini.com/v1/marketdata/BTCUSD<br/>
Connection: Upgrade<br/>
Upgrade: websocket<br/>
Sec-WebSocket-Key: uRovscZjNol/umbTt5uKmw==<br/>
Sec-WebSocket-Version: 13<br/>
</code></p>

<h3 id="private-request-headers">Private request headers</h3>

<p><code class="example">
GET wss://api.gemini.com/v1/order/events<br/>
Connection: Upgrade<br/>
Upgrade: websocket<br/>
Sec-WebSocket-Key: uRovscZjNol/umbTt5uKmw==<br/>
Sec-WebSocket-Version: 13<br/>
X-GEMINI-APIKEY: qOfnZJDZTTBsxdM3bVRP<br/>
X-GEMINI-PAYLOAD: eyJyZXF1ZXN0IjoiL3YxL29yZGVyL2V2ZW50cyIsIm5vbmNlIjoxNDc3OTYzMjQwNzQxMDgzMzA3fQ==<br/>
X-GEMINI-SIGNATURE: 88cd6f391d8f920a76a2060d613b519a8e8b4b3fb5bff089ea826d49ac73888bd479c0c2e2062ba60ba7afbe273132e3<br/>
</code></p>

          <h2 id="private-api-invocation">Private API invocation</h2>

<blockquote>
<p>To walk through the process of generating a private API invocation, we start with the request json itself</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1/order/events"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;nonce&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Whitespace is ignored by the server, and may be included if desired.  The hashes are always taken on the base64 string directly, with no normalization, so whatever is sent in the payload is what should be hashed, and what the server will verify.</p>
</blockquote>
<pre class="highlight shell"><code><span class="gp">~$ </span>base64 <span class="sh">&lt;&lt; EOF
&gt; {
&gt;     "request": "/v1/order/events",
&gt;     "nonce": &lt;nonce&gt;
&gt; }
&gt; EOF
ewogICAgInJlcXVlc3QiOiAiL3YxL29yZGVyL3N0YXR1cyIsCiAgICAibm9uY2UiOiAxMjM0NTYs
CgogICAgIm9yZGVyX2lkIjogMTg4MzQKfQo=
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="n">ws</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"### closed ###"</span><span class="p">)</span>

<span class="n">gemini_api_key</span> <span class="o">=</span> <span class="s">"mykey"</span>
<span class="n">gemini_api_secret</span> <span class="o">=</span> <span class="s">"1234abcd"</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s">"request"</span><span class="p">:</span> <span class="s">"/v1/order/events"</span><span class="p">,</span><span class="s">"nonce"</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()}</span>
<span class="n">encoded_payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">encoded_payload</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">gemini_api_secret</span><span class="p">,</span> <span class="n">b64</span><span class="p">,</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha384</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>


<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span><span class="s">"wss://api.sandbox.gemini.com/v1/order/events"</span><span class="p">,</span>
                            <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">,</span>
                            <span class="n">header</span><span class="o">=</span><span class="p">{</span>
                                <span class="s">'X-GEMINI-PAYLOAD'</span><span class="p">:</span> <span class="n">b64</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span>
                                <span class="s">'X-GEMINI-APIKEY'</span><span class="p">:</span> <span class="n">gemini_api_key</span><span class="p">,</span>
                                <span class="s">'X-GEMINI-SIGNATURE'</span><span class="p">:</span> <span class="n">signature</span>
                            <span class="p">})</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>

<blockquote>
<p>In this example, the <code class="prettyprint">api_secret</code> is <code class="prettyprint">1234abcd</code></p>
</blockquote>
<pre class="highlight shell"><code><span class="nb">echo</span> -n <span class="s1">'ewogICAgInJlcXVlc3QiOiAiL3YxL29yZGVyL3N0YXR1cyIsCiAgICAibm9uY2UiOiAxMjM0NTYsCgogICAgIm9yZGVyX2lkIjogMTg4MzQKfQo='</span> | openssl sha384 -hmac <span class="s2">"1234abcd"</span>
<span class="o">(</span>stdin<span class="o">)=</span> 337cc8b4ea692cfe65b4a85fcc9f042b2e3f702ac956fd098d600ab15705775017beae402be773ceee10719ff70d710f
</code></pre>
<pre class="highlight python"><code><span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">"1234abcd"</span><span class="p">,</span> <span class="n">b64</span><span class="p">,</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha384</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="s">'337cc8b4ea692cfe65b4a85fcc9f042b2e3f702ac956fd098d600ab15705775017beae402be773ceee10719ff70d710f'</span>
</code></pre>

<blockquote>
<p>The final request will look like this.  The linebreaks are added for
clarity, your http library may or may not put them in.</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /v1/order/events
Content-Type: text/plain
Content-Length: 0
X-GEMINI-APIKEY: mykey
X-GEMINI-PAYLOAD:ewogICAgInJlcXVlc3QiOiAiL3YxL29yZGVyL3N
    0YXR1cyIsCiAgICAibm9uY2UiOiAxMjM0NTYsCgogICAgIm9yZGV
    yX2lkIjogMTg4MzQKfQo=
X-GEMINI-SIGNATURE: 337cc8b4ea692cfe65b4a85fcc9f042b2e3f
    702ac956fd098d600ab15705775017beae402be773ceee10719f
    f70d710f
</code></pre>

          <h3 id="authentication">Authentication</h3>

<p>Gemini uses API keys to allow access to private APIs.  You can obtain these by logging on and creating a key in <a href="https://exchange.gemini.com/settings/api">Settings/API</a>. This will give you both an &quot;API Key&quot; that will serve as your user name, and an &quot;API Secret&quot; that you will use to sign messages.</p>

<p>All requests must contain a nonce, a number that will never be repeated and must increase between requests.  This is to prevent an attacker who has captured a previous request from simply replaying that request.  We recommend using a timestamp at millisecond or higher precision.  The nonce need only be increasing with respect to the session that the message is on.</p>

          <h3 id="payload">Payload</h3>

<p>The payload of the requests will be a JSON object, which will be described
in the documentation below.  Rather than being sent as the body of the POST
request, it will be base-64 encoded and stored as a header in the request.</p>

<aside type="warning">Authenticated APIs do <b>not</b> submit their payload as POSTed data, but instead put it in the X-GEMINI-PAYLOAD header</aside>

<p>All of them will include the request name and the nonce associated with the
request.  The nonce must be increasing with each request to prevent
replay attacks.</p>

<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Length</td>
<td><code class="prettyprint">0</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code class="prettyprint">text/plain</code></td>
</tr>
<tr>
<td>X-GEMINI-APIKEY</td>
<td>Your Gemini API key</td>
</tr>
<tr>
<td>X-GEMINI-PAYLOAD</td>
<td>The base64-encoded JSON payload</td>
</tr>
<tr>
<td>X-GEMINI-SIGNATURE</td>
<td><code class="prettyprint">hex(HMAC_SHA384(base64(payload), key=api_secret))</code></td>
</tr>
<tr>
<td>Cache-Control</td>
<td>no-cache</td>
</tr>
</tbody></table>

          <h2 id="roles">Roles</h2>

<blockquote>
<p>Example of error response due to API key missing a role</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"result"</span><span class="p">:</span><span class="s2">"error"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"MissingRole"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"To access this endpoint, you need to log in to the website and go to the settings page to assign one of these roles [FundManager] to API key wujB3szN54gtJ4QDhqRJ which currently has roles [Trader]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gemini uses a role-based system for private API endpoints so that you can separate privileges for your API keys.</p>

<p>By assigning different roles to different API keys, you can create</p>

<ol>
<li>one API key that can trade, and</li>
<li>another API key that can withdraw digital assets, or</li>
<li>an API key to have access to read-only endpoints</li>
</ol>

<p>You can configure which roles are assigned to your API keys by logging in to the Gemini Exchange website and going to API Settings to configure your API keys.</p>

<aside type="warning">When you create an API key, the Trader role is assigned by default.</aside>

<p>If you try to access an endpoint that requires a role you did not assign to your API key, you will get back a response with:</p>

<ul>
<li><code class="prettyprint">403</code> status</li>
<li>a JSON response body with

<ul>
<li><code class="prettyprint">reason</code> set to <code class="prettyprint">MissingRole</code>, and</li>
<li><code class="prettyprint">message</code> explaining what role you need to add to your API key to use this endpoint</li>
</ul></li>
</ul>

<p>See <a href="#error-codes">Error Codes</a> for more information about API error responses.</p>

          <h3 id="trader">Trader</h3>

<p>Assigning the Trader role to an API key allows this API key to:</p>

<ul>
<li>access the <a href="#order-events">Order Events</a> WebSocket API</li>
</ul>

          <h3 id="fund-manager">Fund Manager</h3>

<p>Gemini does not offer any WebSocket APIs for the Fund Manager role right now.</p>

<p>Instead, this role is used for REST API endpoints:</p>

<ul>
<li><a href="/rest-api/#new-deposit-address">New Deposit Address</a> </li>
<li><a href="/rest-api/#withdraw-crypto-funds">Withdraw Crypto Funds</a> </li>
</ul>

          <h3 id="auditor">Auditor</h3>

<p>Assigning the Auditor role to an API key allows this API key to:</p>

<ul>
<li>access the <a href="#order-events">Order Events</a> WebSocket API</li>
</ul>

          <h3 id="endpoint-summary">Endpoint summary</h3>

<p>Here&#39;s a summary of which role you need to assign to your API key to use each endpoint in the API:</p>

<table><thead>
<tr>
<th>Endpoint</th>
<th>URI</th>
<th>Trader can access?</th>
<th>Fund Manager can access?</th>
<th>Auditor can access?</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#order-events">Order Events</a></td>
<td><code class="prettyprint">/v1/order/events</code></td>
<td>&#x2713;</td>
<td>&#x2717;</td>
<td>&#x2713;</td>
</tr>
</tbody></table>

          <h1 id="responses">Responses</h1>

<p>If successful, API requests will return an HTTP <code class="prettyprint">101 Switching Protocols</code> code in the response headers:</p>

<p><code class="example">
HTTP/1.1 101 Switching Protocols<br/>
Connection: upgrade<br/>
Upgrade: websocket<br/>
Sec-WebSocket-Accept: wEV5o5orKGO27qATSTLczquY3EH=<br/>
</code></p>

<p>Then the HTTP connection will be replaced by a WebSocket connection.  All API responses, both public and private, will be sent over the WebSocket connection.</p>

          <h1 id="client-order-id">Client Order ID</h1>

<blockquote>
<p>Order Event subscription Accepted event showing client_order_id</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"372456298"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"372456299"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170208_example"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AeRLptFXoYEqLaNiRwv8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478203017"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478203017455</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14.0296"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1059.54"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Order Status endpoint for the same order, showing client_order_id</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170208_example"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gemini"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"372456298"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"372456298"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.0296"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1059.54"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.0296"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1478203017"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1478203017455</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client order ID is a client-supplied order identifier that Gemini will echo back to you in all subsequent messages about that order.</p>

<p>Although this identifier is optional, Gemini strongly recommends supplying <code class="prettyprint">client_order_id</code> when placing orders using the <a href="/rest-api/#new-order">New Order</a> endpoint.  </p>

<p>This makes it easy to track the <a href="/websocket-api/#accepted">Order Events: Accepted</a> and <a href="/websocket-api/#booked">Order Events: Booked</a> responses in your <a href="/websocket-api/#order-events">Order Events</a> WebSocket subscription.</p>

<h2 id="visibility">Visibility</h2>

<p>Your client order ids are only visible to the Gemini exchange and you.  They are never visible on any public API endpoints.</p>

<h2 id="uniqueness">Uniqueness</h2>

<p>Gemini recommends that your client order IDs should be unique per trading session.</p>

<h2 id="allowed-characters">Allowed characters</h2>

<p>Your client order ids should match against this PCRE regular expression: <code class="prettyprint">[:\-_\.#a-zA-Z0-9]{1,100}</code>.</p>

<table><thead>
<tr>
<th>Characters</th>
<th>Description</th>
<th>ASCII Codes (Dec)</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">A-Z</code></td>
<td>Uppercase A-Z</td>
<td>65 - 90</td>
</tr>
<tr>
<td><code class="prettyprint">a-z</code></td>
<td>Lowercase a-z</td>
<td>97 - 122</td>
</tr>
<tr>
<td><code class="prettyprint">0-9</code></td>
<td>Digits</td>
<td>48 - 57</td>
</tr>
<tr>
<td><code class="prettyprint">#</code></td>
<td>Hash, octothorpe, number sign</td>
<td>35</td>
</tr>
<tr>
<td><code class="prettyprint">-</code></td>
<td>Hyphen</td>
<td>45</td>
</tr>
<tr>
<td><code class="prettyprint">.</code></td>
<td>Period</td>
<td>46</td>
</tr>
<tr>
<td><code class="prettyprint">:</code></td>
<td>Colon</td>
<td>58</td>
</tr>
<tr>
<td><code class="prettyprint">_</code></td>
<td>Underscore</td>
<td>95</td>
</tr>
</tbody></table>

          <h1 id="data-types">Data Types</h1>

<p>The protocol description below will contain references to various types, which
are collected here for reference</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>A simple quoted string, following standard JSON rules; see <a href="http://json.org">the JSON spec</a> for details.</td>
</tr>
<tr>
<td>decimal</td>
<td>A decimal value, encoded in a JSON string.  The contents will be a series of digits, followed by an optional decimal point and additional digits.</td>
</tr>
<tr>
<td>timestamp</td>
<td>The number of seconds since 1970-01-01 UTC. This is usually provided for compatibility; implementors should use the more precise timestampms when available.  When used as an input, either the millisecond or second precision is usable; this is unambiguous for dates past 1/29/1970</td>
</tr>
<tr>
<td>timestampms</td>
<td>The number of milliseconds since 1970-01-01 UTC.  The begin date is the standard UNIX epoch, so this will be 1000 times the UNIX timestamp in seconds.  This will be transmitted as a JSON number, not a string.</td>
</tr>
<tr>
<td>integer</td>
<td>An whole number, transmitted as a JSON number.</td>
</tr>
<tr>
<td>boolean</td>
<td>A JSON boolean, the literal string <code class="prettyprint">true</code> or <code class="prettyprint">false</code></td>
</tr>
<tr>
<td>array</td>
<td>a JSON array.  Each element contains a payload that will be described.</td>
</tr>
</tbody></table>

<h2 id="timestamps">Timestamps</h2>

<p>The timestamp data type describes a date and time as a whole number in <a href="https://en.wikipedia.org/wiki/Unix_time">Unix Time</a> format, as the number of seconds or milliseconds since 1970-01-01 UTC.</p>

<h3 id="requests">Requests</h3>

<aside type="warning">
Gemini strongly recommends using milliseconds instead of seconds for timestamps.
</aside>

<p>When timestamp is supplied as a request parameter, the following two values are supported in order of preference:</p>

<ol>
<li>The number of milliseconds since 1970-01-01 UTC</li>
<li>The number of seconds since 1970-01-01 UTC (unix epoch)</li>
</ol>

<p>For your convenience, a <code class="prettyprint">POST</code> request may supply the <code class="prettyprint">timestamp</code> parameter in a JSON payload as a string instead of a number.</p>

<table><thead>
<tr>
<th>Timestamp format</th>
<th>example</th>
<th>Supported request type</th>
</tr>
</thead><tbody>
<tr>
<td>whole number (seconds)</td>
<td><code class="prettyprint">1495127793</code></td>
<td><code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td>string (seconds)</td>
<td><code class="prettyprint">&quot;1495127793&quot;</code></td>
<td><code class="prettyprint">POST</code> only</td>
</tr>
<tr>
<td>whole number (milliseconds)</td>
<td><code class="prettyprint">1495127793000</code></td>
<td><code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td>string (milliseconds)</td>
<td><code class="prettyprint">&quot;1495127793000&quot;</code></td>
<td><code class="prettyprint">POST</code> only</td>
</tr>
</tbody></table>

<h4 id="behavior">Behavior</h4>

<p>If the <code class="prettyprint">timestamp</code> parameter is not present, the default behavior is to return the most recent items in the list.  For example, the public <a href="/rest-api/#trade-history">Trade History</a> endpoint will return the most recent trades without a <code class="prettyprint">timestamp</code> parameter.</p>

<p>The first trade on Gemini occurred at <code class="prettyprint">1444311607801</code> milliseconds.  Any request for a timestamp value <em>before</em> this is the same as requesting the very first item in the list.</p>

<p>You may choose to supply a timestamp of <code class="prettyprint">0</code> to get the first trade in the list when retrieving trades historically.</p>

<p>If unable to parse your <code class="prettyprint">timestamp</code> value, the exchange will return an <code class="prettyprint">InvalidTimestampInPayload</code> <a href="#error-codes">error</a>.</p>

<h3 id="responses">Responses</h3>

<p>In a JSON response, the key</p>

<ul>
<li><code class="prettyprint">timestamp</code> denotes the number of seconds since 1970-01-01 UTC</li>
<li><code class="prettyprint">timestampms</code> denotes the number of milliseconds since 1970-01-01 UTC</li>
</ul>

<p>For backwards compatibility, some but not all timestamp values will be supplied in seconds.</p>

<h2 id="basis-point">Basis Point</h2>

<p>We calculate fees as a fraction of the notional value of each trade (i.e., price × amount). We use units of basis points (“bps”), which represent 1/100th of a percent of notional value. For example, a fee of 25 bps means that 0.25% of the denominated value of the trade will be kept by our exchange, either deducted from the gross proceeds of a trade or charged to the account at the time a trade is executed. Any fees will be applied at the time an order is placed. For partially filled orders, only the executed portion is subject to trading fees.</p>

<p>For more information see <a href="https://gemini.com/trading-fee-schedule/#fee-calculation">Fee Calculation</a>.</p>

          <h1 id="symbols-and-minimums">Symbols and minimums</h1>

<p>Symbols are formatted as <code class="prettyprint">CCY1CCY2</code> where prices are in <code class="prettyprint">CCY2</code> and quantities are in <code class="prettyprint">CCY1</code>. <code class="prettyprint">CCY1</code> is in the <code class="prettyprint">Currency</code> column and <code class="prettyprint">CCY2</code> is in the respective <code class="prettyprint">CCY2 Price Increment</code> column:</p>

<table><thead>
<tr>
<th>Symbol</th>
<th>Minimum Order Size</th>
<th>Tick Size</th>
<th>Quote Currency Price Increment</th>
</tr>
</thead><tbody>
<tr>
<td>btcusd</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>btceur</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 EUR</td>
</tr>
<tr>
<td>btcgbp</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 GBP</td>
</tr>
<tr>
<td>btcsgd</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 SGD</td>
</tr>
<tr>
<td>ethbtc</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.00001 BTC (1e-5)</td>
</tr>
<tr>
<td>ethusd</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>etheur</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 EUR</td>
</tr>
<tr>
<td>ethgbp</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 GBP</td>
</tr>
<tr>
<td>ethsgd</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 SGD</td>
</tr>
<tr>
<td>bchusd</td>
<td>0.001 BCH (1e-3)</td>
<td>0.000001 BCH (1e-6)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>bchbtc</td>
<td>0.001 BCH (1e-3)</td>
<td>0.000001 BCH (1e-6)</td>
<td>0.00001 BTC (1e-5)</td>
</tr>
<tr>
<td>bcheth</td>
<td>0.001 BCH (1e-3)</td>
<td>0.000001 BCH (1e-6)</td>
<td>0.0001 ETH (1e-4)</td>
</tr>
<tr>
<td>ltcusd</td>
<td>0.01 LTC (1e-2)</td>
<td>0.00001 LTC (1e-5)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>ltcbtc</td>
<td>0.01 LTC (1e-2)</td>
<td>0.00001 LTC (1e-5)</td>
<td>0.0000001 BTC (1e-7)</td>
</tr>
<tr>
<td>ltceth</td>
<td>0.01 LTC (1e-2)</td>
<td>0.00001 LTC (1e-5)</td>
<td>0.00001 ETH (1e-5)</td>
</tr>
<tr>
<td>ltcbch</td>
<td>0.01 LTC (1e-2)</td>
<td>0.00001 LTC (1e-5)</td>
<td>0.0001 BCH (1e-4)</td>
</tr>
<tr>
<td>batusd</td>
<td>1.0 BAT (1e0)</td>
<td>0.000001 BAT (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>daiusd</td>
<td>0.1 DAI (1e-1)</td>
<td>0.000001 DAI (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>linkusd</td>
<td>0.1 LINK (1e-1)</td>
<td>0.000001 LINK (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>oxtusd</td>
<td>1.0 OXT (1e0)</td>
<td>0.000001 OXT (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>linkbtc</td>
<td>0.1 LINK (1e-1)</td>
<td>0.000001 LINK (1e-6)</td>
<td>0.00000001 BTC (1e-8)</td>
</tr>
<tr>
<td>linketh</td>
<td>0.1 LINK (1e-1)</td>
<td>0.000001 LINK (1e-6)</td>
<td>0.0000001 ETH (1e-7)</td>
</tr>
<tr>
<td>ampusd</td>
<td>10.0 AMP (1e1)</td>
<td>0.000001 AMP (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>compusd</td>
<td>0.001 COMP (1e-3)</td>
<td>0.000001 COMP (1e-6)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>paxgusd</td>
<td>0.0001 PAXG (1e-4)</td>
<td>0.00000001 PAXG (1e-8)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>mkrusd</td>
<td>0.001 MKR (1e-3)</td>
<td>0.000001 MKR (1e-6)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>zrxusd</td>
<td>0.1 ZRX (1e-1)</td>
<td>0.000001 ZRX (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>manausd</td>
<td>1.0 MANA (1e0)</td>
<td>0.000001 MANA (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>storjusd</td>
<td>0.1 STORJ (1e-1)</td>
<td>0.000001 STORJ (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>snxusd</td>
<td>0.01 SNX (1e-2)</td>
<td>0.000001 SNX (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>crvusd</td>
<td>0.1 CRV (1e-1)</td>
<td>0.000001 CRV (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>uniusd</td>
<td>0.01 UNI (1e-2)</td>
<td>0.000001 UNI (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>renusd</td>
<td>0.01 REN (1e-2)</td>
<td>0.000001 REN (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>umausd</td>
<td>0.01 UMA (1e-2)</td>
<td>0.000001 UMA (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>yfiusd</td>
<td>0.00001 YFI (1e-5)</td>
<td>0.000001 YFI (1e-6)</td>
<td>0.01 USD</td>
</tr>
<tr>
<td>aaveusd</td>
<td>0.001 AAVE (1e-3)</td>
<td>0.000001 AAVE (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>filusd</td>
<td>0.1 FIL (1e-1)</td>
<td>0.000001 FIL (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>sklusd</td>
<td>0.1 SKL (1e-1)</td>
<td>0.000001 SKL (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>grtusd</td>
<td>0.1 GRT (1e-1)</td>
<td>0.000001 GRT (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>lrcusd</td>
<td>0.1 LRC (1e-1)</td>
<td>0.000001 LRC (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>sandusd</td>
<td>0.1 SAND (1e-1)</td>
<td>0.000001 SAND (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>cubeusd</td>
<td>0.01 CUBE (1e-2)</td>
<td>0.000001 CUBE (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>lptusd</td>
<td>0.001 LPT (1e-3)</td>
<td>0.000001 LPT (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>maticusd</td>
<td>0.1 MATIC (1e-1)</td>
<td>0.000001 MATIC (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>injusd</td>
<td>0.01 INJ (1e-2)</td>
<td>0.000001 INJ (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>sushiusd</td>
<td>0.01 SUSHI (1e-2)</td>
<td>0.000001 SUSHI (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>dogeusd</td>
<td>0.1 DOGE (1e-1)</td>
<td>0.000001 DOGE (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>ftmusd</td>
<td>0.03 FTM (3e-2)</td>
<td>0.000001 FTM (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>ankrusd</td>
<td>0.1 ANKR (1e-1)</td>
<td>0.000001 ANKR (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>btcgusd</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 GUSD</td>
</tr>
<tr>
<td>ethgusd</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 GUSD</td>
</tr>
<tr>
<td>ctxusd</td>
<td>0.002 CTX (2e-3)</td>
<td>0.000001 CTX (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>xtzusd</td>
<td>0.02 XTZ (2e-2)</td>
<td>0.000001 XTZ (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>axsusd</td>
<td>0.003 AXS (3e-3)</td>
<td>0.000001 AXS (1e-6)</td>
<td>0.01 USD (1e-2)</td>
</tr>
<tr>
<td>lunausd</td>
<td>1 LUNA (1e0)</td>
<td>0.000001 LUNA (1e-6)</td>
<td>0.00000001 USD (1e-8)</td>
</tr>
<tr>
<td>dogebtc</td>
<td>1.0 DOGE (1e0)</td>
<td>0.00000001 DOGE (1e-8)</td>
<td>0.000000001 BTC (1e-9)</td>
</tr>
<tr>
<td>dogeeth</td>
<td>1.0 DOGE (1e0)</td>
<td>0.00000001 DOGE (1e-8)</td>
<td>0.00000001 ETH (1e-8)</td>
</tr>
<tr>
<td>rareusd</td>
<td>0.1 RARE (1e-1)</td>
<td>0.000001 RARE (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>qntusd</td>
<td>0.0004 QNT (4e-4)</td>
<td>0.000001 QNT (1e-6)</td>
<td>0.01 USD (1e-2)</td>
</tr>
<tr>
<td>maskusd</td>
<td>0.01 MASK (1e-2)</td>
<td>0.000001 MASK (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>fetusd</td>
<td>0.1 FET (1e-1)</td>
<td>0.000001 FET (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>api3usd</td>
<td>0.03 API3 (3e-2)</td>
<td>0.000001 API3 (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>usdcusd</td>
<td>0.1 USDC (1e-1)</td>
<td>0.000001 USDC (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>shibusd</td>
<td>1000.0 SHIB (1e3)</td>
<td>0.000001 SHIB (1e-6)</td>
<td>0.000000001 USD (1e-9)</td>
</tr>
<tr>
<td>rndrusd</td>
<td>0.02 RNDR (2e-2)</td>
<td>0.000001 RNDR (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>galausd</td>
<td>0.4 GALA (4e-1)</td>
<td>0.000001 GALA (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>ensusd</td>
<td>0.002 ENS (2e-3)</td>
<td>0.000001 ENS (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>tokeusd</td>
<td>0.002 TOKE (2e-3)</td>
<td>0.000001 TOKE (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>ldousd</td>
<td>0.02 LDO (2e-2)</td>
<td>0.000001 LDO (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>rlyusd</td>
<td>0.2 RLY (2e-1)</td>
<td>0.000001 RLY (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>solusd</td>
<td>0.001 SOL (1e-3)</td>
<td>0.000001 SOL (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>apeusd</td>
<td>0.02 APE (2e-2)</td>
<td>0.000001 APE (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>gusdsgd</td>
<td>0.1 GUSD</td>
<td>0.000001 GUSD (1e-6)</td>
<td>0.001 SGD (1e-3)</td>
</tr>
<tr>
<td>qrdousd</td>
<td>0.04 QRDO (4e-2)</td>
<td>0.000001 QRDO (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>zbcusd</td>
<td>3.0 ZBC (3e0)</td>
<td>0.000001 ZBC (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>chzusd</td>
<td>0.5 CHZ (5e-1)</td>
<td>0.000001 CHZ (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>jamusd</td>
<td>10.0 JAM (1e1)</td>
<td>0.000001 JAM (1e-6)</td>
<td>0.0000001 USD (1e-7)</td>
</tr>
<tr>
<td>gmtusd</td>
<td>0.1 GMT (1e-1)</td>
<td>0.000001 GMT (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>aliusd</td>
<td>2.0 ALI (2e0)</td>
<td>0.000001 ALI (1e-6)</td>
<td>0.000001 USD (1e-6)</td>
</tr>
<tr>
<td>gusdgbp</td>
<td>0.1 GUSD</td>
<td>0.0001 GUSD (1e-4)</td>
<td>0.001 GBP (1e-3)</td>
</tr>
<tr>
<td>dotusd</td>
<td>0.01 DOT (1e-2)</td>
<td>0.000001 DOT (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>ernusd</td>
<td>0.05 ERN (5e-2)</td>
<td>0.000001 ERN (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>elonusd</td>
<td>60000.0 ELON (6e4)</td>
<td>0.000001 ELON (1e-6)</td>
<td>0.00000000001 USD (1e-11)</td>
</tr>
<tr>
<td>galusd</td>
<td>0.04 GAL (4e-2)</td>
<td>0.000001 GAL (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>samousd</td>
<td>10.0 SAMO (1e+1)</td>
<td>0.000001 SAMO (1e-6)</td>
<td>0.0000001 USD (1e-7)</td>
</tr>
<tr>
<td>imxusd</td>
<td>0.1 IMX (1e-1)</td>
<td>0.000001 IMX (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>iotxusd</td>
<td>3.0 IOTX (3e+0)</td>
<td>0.000001 IOTX (1e-6)</td>
<td>0.000001 USD (1e-6)</td>
</tr>
<tr>
<td>avaxusd</td>
<td>0.005 AVAX (5e-3)</td>
<td>0.000001 AVAX (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>atomusd</td>
<td>0.01 ATOM (1e-2)</td>
<td>0.000001 ATOM (1e-6)</td>
<td>0.001 USD (1e-3)</td>
</tr>
<tr>
<td>usdtusd*</td>
<td>0.1 USDT (1e-1)</td>
<td>0.000001 USDT (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
<tr>
<td>btcusdt*</td>
<td>0.00001 BTC (1e-5)</td>
<td>0.00000001 BTC (1e-8)</td>
<td>0.01 USDT (1e-2)</td>
</tr>
<tr>
<td>ethusdt*</td>
<td>0.001 ETH (1e-3)</td>
<td>0.000001 ETH (1e-6)</td>
<td>0.01 USDT (1e-2)</td>
</tr>
<tr>
<td>pepeusd</td>
<td>1000 PEPE (1e3)</td>
<td>0.000001 PEPE (1e-6)</td>
<td>0.000000001 USD (1e-9)</td>
</tr>
<tr>
<td>xrpusd</td>
<td>0.1 XRP (1e-1)</td>
<td>0.000001 XRP (1e-6)</td>
<td>0.00001 USD (1e-5)</td>
</tr>
<tr>
<td>hntusd</td>
<td>0.04 HNT (1e-1)</td>
<td>0.000001 HNT (1e-6)</td>
<td>0.0001 USD (1e-4)</td>
</tr>
</tbody></table>

<p>*Note: Not available to trade for customers in New York</p>

<h2 id="all-supported-symbols">All Supported Symbols</h2>

<p><code class="prettyprint">btcusd</code>
<code class="prettyprint">ethbtc</code>
<code class="prettyprint">ethusd</code>
<code class="prettyprint">bchusd</code>
<code class="prettyprint">bchbtc</code>
<code class="prettyprint">bcheth</code>
<code class="prettyprint">ltcusd</code>
<code class="prettyprint">ltcbtc</code>
<code class="prettyprint">ltceth</code>
<code class="prettyprint">ltcbch</code>
<code class="prettyprint">batusd</code>
<code class="prettyprint">daiusd</code>
<code class="prettyprint">linkusd</code>
<code class="prettyprint">oxtusd</code>
<code class="prettyprint">linkbtc</code>
<code class="prettyprint">linketh</code>
<code class="prettyprint">ampusd</code>
<code class="prettyprint">compusd</code>
<code class="prettyprint">paxgusd</code>
<code class="prettyprint">mkrusd</code>
<code class="prettyprint">zrxusd</code>
<code class="prettyprint">manausd</code>
<code class="prettyprint">storjusd</code>
<code class="prettyprint">snxusd</code>
<code class="prettyprint">crvusd</code>
<code class="prettyprint">uniusd</code>
<code class="prettyprint">renusd</code>
<code class="prettyprint">umausd</code>
<code class="prettyprint">yfiusd</code>
<code class="prettyprint">aaveusd</code>
<code class="prettyprint">filusd</code>
<code class="prettyprint">btceur</code>
<code class="prettyprint">btcgbp</code>
<code class="prettyprint">etheur</code>
<code class="prettyprint">ethgbp</code>
<code class="prettyprint">btcsgd</code>
<code class="prettyprint">ethsgd</code>
<code class="prettyprint">sklusd</code>
<code class="prettyprint">grtusd</code>
<code class="prettyprint">lrcusd</code>
<code class="prettyprint">sandusd</code>
<code class="prettyprint">cubeusd</code>
<code class="prettyprint">lptusd</code>
<code class="prettyprint">maticusd</code>
<code class="prettyprint">injusd</code>
<code class="prettyprint">sushiusd</code>
<code class="prettyprint">dogeusd</code>
<code class="prettyprint">ftmusd</code>
<code class="prettyprint">ankrusd</code>
<code class="prettyprint">btcgusd</code>
<code class="prettyprint">ethgusd</code>
<code class="prettyprint">ctxusd</code>
<code class="prettyprint">xtzusd</code>
<code class="prettyprint">axsusd</code>
<code class="prettyprint">lunausd</code>
<code class="prettyprint">dogebtc</code>
<code class="prettyprint">dogeeth</code>
<code class="prettyprint">rareusd</code>
<code class="prettyprint">qntusd</code>
<code class="prettyprint">maskusd</code>
<code class="prettyprint">fetusd</code>
<code class="prettyprint">api3usd</code>
<code class="prettyprint">usdcusd</code>
<code class="prettyprint">shibusd</code>
<code class="prettyprint">rndrusd</code>
<code class="prettyprint">galausd</code>
<code class="prettyprint">ensusd</code>
<code class="prettyprint">elonusd</code>
<code class="prettyprint">tokeusd</code>
<code class="prettyprint">ldousd</code>
<code class="prettyprint">rlyusd</code>
<code class="prettyprint">solusd</code>
<code class="prettyprint">apeusd</code>
<code class="prettyprint">gusdsgd</code>
<code class="prettyprint">qrdousd</code>
<code class="prettyprint">zbcusd</code>
<code class="prettyprint">chzusd</code>
<code class="prettyprint">jamusd</code>
<code class="prettyprint">gmtusd</code>
<code class="prettyprint">aliusd</code>
<code class="prettyprint">gusdgbp</code>
<code class="prettyprint">dotusd</code>
<code class="prettyprint">ernusd</code>
<code class="prettyprint">galusd</code>
<code class="prettyprint">samousd</code>
<code class="prettyprint">imxusd</code>
<code class="prettyprint">iotxusd</code>
<code class="prettyprint">avaxusd</code>
<code class="prettyprint">atomusd</code>
<code class="prettyprint">usdtusd</code>
<code class="prettyprint">btcusdt</code>
<code class="prettyprint">ethusdt</code>
<code class="prettyprint">pepeusd</code>
<code class="prettyprint">xrpusd</code>
<code class="prettyprint">hntusd</code></p>

          <h1 id="sequence-numbers">Sequence numbers</h1>

<p>So you can easily ensure that you are receiving all of your WebSocket messages in the expected order without any gaps, events and heartbeats contain a special sequence number.</p>

<ol>
<li>WebSocket connection is established</li>
<li><em>Optional</em>: subscription acknowledgement, such as <a href="#subscription-acknowledgement">Order Events: Subscription Acknowledgement</a></li>
<li>Your subscription begins - you receive your first event with <code class="prettyprint">socket_sequence</code> set to a value of <code class="prettyprint">0</code></li>
<li>For all further messages, each message - whether a heartbeat or an event - should increase this sequence number by one.

<ul>
<li>If you see a gap in this sequence number, then you should disconnect and reconnect.</li>
</ul></li>
</ol>

<p>Please note:</p>

<ul>
<li>Each time you reconnect, the sequence number resets to zero.<br></li>
<li>If you have multiple WebSocket connections, each will have a separate sequence number beginning with zero - make sure to keep track of each sequence number separately!</li>
</ul>

          <h1 id="order-events">Order Events</h1>

<p>Order events is a private API that gives you information about your orders in real time.</p>

<p>When you connect, you get a book of your active orders.  Then in real time you&#39;ll get information about order events like:</p>

<ul>
<li>when your orders are accepted by the exchange</li>
<li>when your orders first appear on the book</li>
<li>fills</li>
<li>cancels</li>
</ul>

<p>and more.</p>

<p>You can use optional subscription filters to tailor your WebSocket feed to suit your individual needs.  You can even create multiple WebSocket feeds for multiple purposes.</p>

          <h2 id="event-types">Event Types</h2>

<p class="mytable"></p>

<ul>
<li>

<ul>
<li>Entry Type</li>
<li>Can be filtered?</li>
<li>Description</li>
</ul></li>
<li>

<ul>
<li><span style="white-space: nowrap;"><code class="prettyprint">subscription_ack</code></span></li>
<li>N</li>
<li>Acknowledges your order events subscription and echoes back your parsed filters.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">heartbeat</code></li>
<li>Y</li>
<li>Sent at five-second intervals to show that your WebSocket connection to Gemini is alive. This is filtered independently from the <code class="prettyprint">eventTypeFilter</code> as <code class="prettyprint">heartbeat=true</code>. The default for the <code class="prettyprint">heartbeat</code> parameter is <code class="prettyprint">true</code>.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">initial</code></li>
<li>Y</li>
<li>At the time you begin your subscription, you receive a list of your current active orders.  Each active order will have the <code class="prettyprint">initial</code> event type.  You only see this event type at the beginning of each subscription.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">accepted</code></li>
<li>Y </li>
<li>Acknowledges that the exchange has received your order for initial processing.  An order which cannot be accepted for initial processing receives a <code class="prettyprint">rejected</code> event.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">rejected</code></li>
<li>Y </li>
<li>When an order is rejected.</li>
</ul></li>
<li><ul>
<li><code class="prettyprint">booked</code> </li>
<li>Y </li>
<li><p>Your order is now <strong>visible</strong> on the Gemini order book.  Under certain conditions, when you place an order you will not receive a <code class="prettyprint">booked</code> event.  These include:</p>

<ul>
    <li>When your order is completely filled after being accepted</li>
    <li>When your order is accepted for initial processing but then immediately cancelled because some condition cannot be fulfilled (for instance, if you submit a maker-or-cancel order but your order would cross)</li>
</ul></li>
</ul></li>
<li><ul>
<li><code class="prettyprint">fill</code></li>
<li>Y </li>
<li>When an order is filled.</li>
</ul></li>
<li><ul>
<li><code class="prettyprint">cancelled</code></li>
<li>Y </li>
<li>When an order is cancelled.</li>
</ul></li>
<li><ul>
<li><code class="prettyprint">cancel_rejected</code></li>
<li>Y </li>
<li><p>When your request to cancel an order cannot be fulfilled.  Reasons this might happen include:</p>

<ul>
    <li>The order cannot be found</li>
</ul></li>
</ul></li>
<li><ul>
<li><code class="prettyprint">closed</code></li>
<li>Y </li>
<li>The last event in the order lifecycle: whether this order was completely filled or cancelled, the consumer can use the <code class="prettyprint">closed</code> event as a signal that the order is off the book on the Gemini side.</li>
</ul></li>
</ul>

          <h2 id="workflow">Workflow</h2>

<ol>
<li>Client submits order to Gemini exchange</li>
<li>Is the order accepted?

<ul>
<li>Yes, order is accepted

<ol>
<li>Gemini sends an <code class="prettyprint">accepted</code> order event</li>
<li>Gemini sends zero or more initial <code class="prettyprint">fill</code> events</li>
<li>Does the order have non-zero remaining quantity?

<ul>
<li>Yes, the order has non-zero remaining quantity

<ul>
<li>Gemini sends a <code class="prettyprint">booked</code> event</li>
<li>the order rests until
<ul>
    <li>client sends a cancel request
        <ul>
            <li>Is the order cancelled?
                <ol>
                    <li>Yes, the order is cancelled
                        <ul>
                            <li>Gemini sends a <code class="prettyprint">cancelled</code> event followed by a <code class="prettyprint">closed</code> event</li>
                            <li>No further order events about this order</li>
                        </ul>
                    </li>
                    <li>No, the cancel request could not be fulfilled
                        <ul>
                            <li>Gemini sends a <code class="prettyprint">cancel_rejected</code> event explaining why the order cancel request could not be fulfilled.</li>
                            <li>The order continues to rest on the books</li>
                        </ul>
                    </li>
                </ol>
            </li>
        </ul>
    </li>
    <li>a trade executes, partially or completely filling the order
        <ul>
            <li>Gemini sends a <code class="prettyprint">fill</code> event with details about the trade, including remaining quantity</li>
            <li>Is the order completely filled?
                <ol>
                    <li>Yes, the order is completely filled
                        <ul>
                            <li>Gemini sends a <code class="prettyprint">closed</code> event</li>
                            <li>No further order events about this order</li>
                        </ul>
                    </li>
                    <li>No, the order has remaining quantity
                        <ul>
                            <li>The order continues to rest on the books</li>
                        </ul>
                    </li>
                </ol>
            </li>
        </ul>
    </li>
</ul></li>
</ul></li>
<li>No, the order has been completely filled

<ul>
<li>Gemini sends a <code class="prettyprint">closed</code> event</li>
<li>No further order events about this order</li>
</ul></li>
</ul></li>
</ol></li>
<li>No, order is rejected

<ul>
<li>Gemini responds with a <code class="prettyprint">rejected</code> order event explaining why the order was rejected</li>
<li>No further order events about this order</li>
</ul></li>
</ul></li>
</ol>

<h2 id="keeping-track-of-your-orders">Keeping track of your orders</h2>

<p>When you place an order using the <a href="/rest-api/#new-order">New Order</a> endpoint, supply your identifier in the <code class="prettyprint">client_order_id</code> field.</p>

<p>The Order Events API will then echo it back to you in every single message about this order.</p>

<p>See <a href="/rest-api/#client-order-id">Client Order ID</a> for more information.</p>

<p>You can use the <code class="prettyprint">account_name</code> field, if using a Master scoped API key.</p>

          <h2 id="how-filtering-works">How Filtering Works</h2>

<p>Filtering is completely optional.  If you don&#39;t specify any filters when you connect, you&#39;ll see all your order events: for every symbol, every API session and the UI, every event type.</p>

<p>If you want to filter, it&#39;s simple.  Filtering works by whitelisting.  You can filter on any combination of the following criteria:</p>

<ol>
<li>one or more <a href="#symbols-and-minimums">supported symbols</a></li>
<li>one or more of your API session keys

<ul>
<li>use <code class="prettyprint">UI</code> as the session key for orders placed through the website</li>
</ul></li>
<li>one or more <a href="#order-events">order event types</a>

<ul>
<li>if you don&#39;t specify <code class="prettyprint">initial</code>, you will not receive your active orders at the beginning of the subscription</li>
</ul></li>
</ol>

<p>You may create multiple connections, filtered any way you like.</p>

<p>To provide a list of arguments, repeat the parameter once for <em>each</em> argument you want to provide:</p>

<p><code class="prettyprint">wss://api.gemini.com/v1/order/events?symbolFilter=btcusd&amp;symbolFilter=ethbtc&amp;eventTypeFilter=initial&amp;eventTypeFilter=fill&amp;eventTypeFilter=closed</code></p>

<p>For example, if you wanted to see all BTCUSD order event types for both API session key <code class="prettyprint">t14phVqvAAJlK4YiXmBM</code> and your web users, you would subscribe to order events using this WebSocket URL:</p>

<p><code class="prettyprint">wss://api.gemini.com/v1/order/events?apiSessionFilter=t14phVqvAAJlK4YiXmBM&amp;&amp;apiSessionFilter=UI&amp;symbolFilter=btcusd</code></p>

<p>You would neither see orders for a different currency nor orders placed by a different API session key than the ones you specified.</p>

<p>If you wanted to create a dropcopy-like event feed, to see order fills for all orders associated with your account on all symbols, connect using:</p>

<p><code class="prettyprint">wss://api.gemini.com/v1/order/events?eventTypeFilter=fill</code></p>

<p>To see your active orders, fills, and cancels:</p>

<p><code class="prettyprint">wss://api.gemini.com/v1/order/events?eventTypeFilter=initial&amp;eventTypeFilter=fill&amp;eventTypeFilter=canceled</code></p>

<p>In general, if you create a custom event type filter, Gemini recommends always including <code class="prettyprint">initial</code>: otherwise, you won&#39;t see your active orders when you connect.</p>

<aside type="warning">You cannot filter out heartbeat events or your subscription acknowledgement.</aside>

          <h2 id="websocket-request">WebSocket Request</h2>
<pre class="highlight shell"><code>npm install -g wscat
wscat -H X-GEMINI-PAYLOAD:your-payload <span class="se">\</span>
 -H X-GEMINI-APIKEY:your-api-key <span class="se">\</span>
 -H X-GEMINI-SIGNATURE:your-signature <span class="se">\</span>
 --connect wss://api.gemini.com/v1/order/events
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="n">ws</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"### closed ###"</span><span class="p">)</span>

<span class="n">gemini_api_key</span> <span class="o">=</span> <span class="s">"mykey"</span>
<span class="n">gemini_api_secret</span> <span class="o">=</span> <span class="s">"1234abcd"</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s">"request"</span><span class="p">:</span> <span class="s">"/v1/order/events"</span><span class="p">,</span><span class="s">"nonce"</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()}</span>
<span class="n">encoded_payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">encoded_payload</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">gemini_api_secret</span><span class="p">,</span> <span class="n">b64</span><span class="p">,</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha384</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>


<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span><span class="s">"wss://api.gemini.com/v1/order/events?symbolFilter=btcusd&amp;eventTypeFilter=fill&amp;eventTypeFilter=closed&amp;apiSessionFilter=UI&amp;heartbeat=true"</span><span class="p">,</span>
                            <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">,</span>
                            <span class="n">header</span><span class="o">=</span><span class="p">{</span>
                                <span class="s">'X-GEMINI-PAYLOAD'</span><span class="p">:</span> <span class="n">b64</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span>
                                <span class="s">'X-GEMINI-APIKEY'</span><span class="p">:</span> <span class="n">gemini_api_key</span><span class="p">,</span>
                                <span class="s">'X-GEMINI-SIGNATURE'</span><span class="p">:</span> <span class="n">signature</span>
                            <span class="p">})</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>

<p><code class="prettyprint">wss://api.gemini.com/v1/order/events</code></p>

<h3 id="roles">Roles</h3>

<p>The API key you use to access this endpoint must have the Trader or Auditor role assigned.  See <a href="#roles">Roles</a> for more information.</p>

<p><strong>NOTE:</strong> Using a Master scoped API key receives event data for all accounts in the group.</p>

<h3 id="headers">Headers</h3>

<p>Your WebSocket request needs to include these three headers:</p>

<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">X-GEMINI-APIKEY</code></td>
<td>Your Gemini API session key</td>
</tr>
<tr>
<td><code class="prettyprint">X-GEMINI-PAYLOAD</code></td>
<td>Before base64-encoding, the JSON payload for the <code class="prettyprint">X-GEMINI-PAYLOAD</code> header looks like this, where <code class="prettyprint">123456</code> is a valid nonce value for your account.<br/><br/><div class="likeCode">{<br/>    &quot;request&quot;: &quot;/v1/order/events&quot;,<br/>    &quot;nonce&quot;: 123456<br/>}</div></td>
</tr>
<tr>
<td><span class="white-space: nowrap;"><code class="prettyprint">X-GEMINI-SIGNATURE</code></span></td>
<td>See <a href="#private-api-invocation">Private API Invocation</a> for an explanation of how to create the signature hash.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">symbolFilter</code></td>
<td>string</td>
<td>N</td>
<td>Optional <a href="#symbols-and-minimums">symbol</a> filter for order event subscription</td>
</tr>
<tr>
<td><code class="prettyprint">apiSessionFilter</code></td>
<td>string</td>
<td>N</td>
<td>Optional API session key filter for order event subscription</td>
</tr>
<tr>
<td><code class="prettyprint">eventTypeFilter</code></td>
<td>string</td>
<td>N</td>
<td>Optional  <a href="#order-events">order event type</a> filter for order event subscription</td>
</tr>
<tr>
<td><code class="prettyprint">heartbeat</code></td>
<td>boolean</td>
<td>N</td>
<td>Optional filter to stream <a href="#order-events">heartbeats</a>. The default for this parameter is <code class="prettyprint">false</code>.</td>
</tr>
</tbody></table>

          <h2 id="response">Response</h2>

<blockquote>
<p>Limit Order accepted</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535951"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535952"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547742904"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547742904989</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Market Buy accepted</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964529"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964530"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547756076"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547756076644</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_spend"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Market Sell accepted</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964616"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964617"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market sell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547756893"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547756893937</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Maker-or-cancel limit order accepted</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964647"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964648"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547757139"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547757139783</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122.30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maker-or-cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Immediate-or-cancel limit order accepted, then immediately filled and closed</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652164"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652165"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478790127"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478790127297</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"behavior"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"immediate-or-cancel"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">131419</span><span class="w">
</span><span class="p">}]</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fill"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652164"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478790127"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478790127297</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fill"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"trade_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652166"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liquidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Taker"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3.57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee_currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">131420</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"closed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652164"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"652168"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478790127"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478790127297</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"714.01"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">131421</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Once your WebSocket session is established, you will receive:</p>

<ol>
<li>a subscription acknowledgement</li>
<li>a list of your active orders, if you supply either 

<ul>
<li>no <code class="prettyprint">eventTypeFilter</code>, or </li>
<li>an explicit <code class="prettyprint">eventTypeFilter=initial</code> argument as part of one or more <code class="prettyprint">eventTypeFilter</code> arguments in your WebSocket request</li>
</ul></li>
<li>ongoing order events interspersed with heartbeats every five seconds

<ul>
<li>A response is a JSON array containing one or more order event objects</li>
<li>Order events will arrive in real time, in the sequence that they happened on the exchange</li>
<li>Each order event pertains to a single order but a batch of order events may contain order events pertaining to multiple orders.</li>
<li>Use the <code class="prettyprint">order_id</code> field in the initial order to keep track of what&#39;s happening to each order</li>
<li>Heartbeats are never batched with other order events</li>
</ul></li>
</ol>

<aside type="warning">
The JSON format of the response objects maintains compatibility with the <a href="/rest-api/#order-status">Order Status</a> and <a href="/rest-api/#get-active-orders">Get Active Orders</a> APIs. 
</aside>

          <h3 id="common-fields">Common fields</h3>

<p>These fields are common to all order events except <code class="prettyprint">subscription_ack</code> and <code class="prettyprint">heartbeat</code>.</p>

<p class="mytable"></p>

<ul>
<li>

<ul>
<li>Field</li>
<li>Type</li>
<li>Required?</li>
<li>Description</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">type</code></li>
<li>string</li>
<li>Y</li>
<li>An <a href="#event-types">order event type</a>, e.g. <code class="prettyprint">accepted</code>, <code class="prettyprint">booked</code>, <code class="prettyprint">fill</code>, <code class="prettyprint">cancelled</code></li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">socket_sequence</code></li>
<li>integer</li>
<li>Y</li>
<li>zero-indexed monotonic increasing sequence number attached to each message sent - if there is a gap in this sequence, you have missed a message.  See <a href="#sequence-numbers">Sequence Numbers</a> for more information.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">order_id</code></li>
<li>string</li>
<li>Y</li>
<li>The order id that Gemini has assigned to this order, first provided in the <code class="prettyprint">accepted</code> or <code class="prettyprint">rejected</code> message.  All further events (<code class="prettyprint">fill</code>, <code class="prettyprint">booked</code>, <code class="prettyprint">cancelled</code>, <code class="prettyprint">closed</code>) will refer to this <code class="prettyprint">order_id</code></li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">event_id</code></li>
<li>string</li>
<li>Y*</li>
<li>The event id associated with this specific order event.  <code class="prettyprint">event_id</code> is supplied for every order event type except the <code class="prettyprint">initial</code> events that supply the active orders when you initially subscribe.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">account_name</code></li>
<li>string</li>
<li>N</li>
<li>Returned when using a Master scoped API key. The name of the account within the subaccount group. Master API keys can get all account names using the <a href="/rest-api/#get-accounts-in-master-group">Get Accounts endpoint</a>.</li>
</ul></li>
<li> 

<ul>
<li><code class="prettyprint">api_session</code></li>
<li>string</li>
<li>Y*</li>
<li>The API session key associated with this order.
<ul>
    <li>Orders placed by website users show <code class="prettyprint">UI</code> as the API session key.</li>
</ul></li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">client_order_id</code></li>
<li><a href="/rest-api/#client-order-id">Client Order ID</a></li>
<li>N</li>
<li>The optional <a href="#client-order-id">client-specified order id</a></li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">symbol</code></li>
<li>string</li>
<li>Y</li>
<li>The <a href="#symbols-and-minimums">symbol</a> of the order</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">side</code></li>
<li>string</li>
<li>Y</li>
<li>Either <code class="prettyprint">buy</code> or <code class="prettyprint">sell</code></li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">behavior</code> </li>
<li>string </li>
<li>N </li>
<li>When limit orders are placed with <code class="prettyprint">immediate-or-cancel</code>, <code class="prettyprint">fill-or-kill</code>, or <code class="prettyprint">maker-or-cancel</code> behavior, this field will indicate the order behavior.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">order_type</code></li>
<li>string</li>
<li>Y</li>
<li>Description of the order</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">timestamp</code></li>
<li>string</li>
<li>Y</li>
<li>The timestamp the order was submitted.  Note that for compatibility reasons, this is returned as a string.  We recommend using the <code class="prettyprint">timestampms</code> field instead.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">timestampms</code></li>
<li><a href="#data-types">timestampms</a></li>
<li>Y</li>
<li>The timestamp the order was submitted in milliseconds.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">is_live</code></li>
<li>boolean</li>
<li>Y</li>
<li><code class="prettyprint">true</code> if the order is active on the book (has remaining quantity and has not been canceled)</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">is_cancelled</code></li>
<li>boolean</li>
<li>Y</li>
<li><code class="prettyprint">true</code> if the order has been canceled.  Note the spelling, &quot;cancelled&quot; instead of &quot;canceled&quot;.  This is for compatibility reasons.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">is_hidden</code></li>
<li>boolean</li>
<li>Y</li>
<li><code class="prettyprint">true</code> if the order is active but not visible</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">avg_execution_price</code></li>
<li>decimal</li>
<li>N</li>
<li>The average price at which this order as been executed so far. 0 if the order has not been executed at all.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">executed_amount</code></li>
<li>decimal</li>
<li>N </li>
<li>The amount of the order that has been filled.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">remaining_amount</code></li>
<li>decimal</li>
<li>N </li>
<li>The amount of the order that has not been filled.  Present for limit and market sell orders; absent for market buy orders.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">original_amount</code></li>
<li>decimal</li>
<li>N</li>
<li>For limit orders and market sells, the quantity the order was placed for.  Not present for market buys.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">price</code></li>
<li>decimal</li>
<li>N</li>
<li>For limit orders, the price the order was placed for.  Not present for market buys and sells.</li>
</ul></li>
<li>

<ul>
<li><code class="prettyprint">total_spend</code></li>
<li>decimal</li>
<li>N</li>
<li>For market buys, the total spend (fee-inclusive notional value) the order was placed for.  Not present for limit orders and market sells.</li>
</ul></li>
</ul>

          <h2 id="subscription-acknowledgement">Subscription acknowledgement</h2>

<blockquote>
<p>Subscription acknowledgement response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription_ack"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5365</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ws-order-events-5365-b8bk32clqeb13g9tk8p0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbolFilter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"btcusd"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"apiSessionFilter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"UI"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"eventTypeFilter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"fill"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"closed"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The first message you receive acknowledges your subscription.  </p>

<p>Compare the filters to the ones you requested to make sure your request was parsed as you expected.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">subscription_ack</code></td>
</tr>
<tr>
<td><code class="prettyprint">accountId</code></td>
<td>integer</td>
<td>Y</td>
<td>The account id associated with the API session key you supplied in your <code class="prettyprint">X-GEMINI-APIKEY</code> header. When using a master API key, it will be the account group id associated with the API session key.  See <a href="api/#private-api-invocation">Private API Invocation</a> for more details.</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionId</code></td>
<td>string</td>
<td>Y</td>
<td>The id associated with this websocket subscription; the component after the last dash is a request trace id that will be echoed back in the heartbeat <code class="prettyprint">traceId</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">symbolFilter</code></td>
<td>string array</td>
<td>Y</td>
<td>An array of zero or more <a href="#symbols-and-minimums">supported symbols</a>.  An empty array means your subscription is not filtered by symbol.</td>
</tr>
<tr>
<td><code class="prettyprint">apiSessionFilter</code></td>
<td>string array</td>
<td>Y</td>
<td>An array of zero or more API session keys associated with your account.  The string <code class="prettyprint">&quot;UI&quot;</code> means you want to see orders placed by your website users.  An empty array means you want to see all orders on your account, regardless of whether they were placed via the API or the website.</td>
</tr>
<tr>
<td><code class="prettyprint">eventTypeFilter</code></td>
<td>string array</td>
<td>Y</td>
<td>An array of zero or more order event types.  An empty array means your subscription is not filtered by event type.</td>
</tr>
</tbody></table>

          <h2 id="heartbeats">Heartbeats</h2>

<blockquote>
<p>Heartbeat response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"heartbeat"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547742998508</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="nt">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b8biknoqppr32kc7gfgg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gemini will send a heartbeat every five seconds so you&#39;ll know your WebSocket connection is active.  </p>

<p>Gemini recommends logging and retaining all heartbeat messages.  If your WebSocket connection is unreliable, please contact Gemini support with this log.  </p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>N</td>
<td><code class="prettyprint">heartbeat</code>. This can be set to true in the [heartbeat URL parameter]((#order-events). Defaults to <code class="prettyprint">true</code></td>
</tr>
<tr>
<td><code class="prettyprint">timestampms</code></td>
<td><a href="#data-types">timestampms</a></td>
<td>Y</td>
<td>Gemini adds a timestamp so if you get disconnected, you may contact Gemini support with the timestamp of the last heartbeat you received.</td>
</tr>
<tr>
<td><code class="prettyprint">sequence</code></td>
<td>integer</td>
<td>Y</td>
<td>Gemini adds a monotonically incrementing sequence to make it easy to tell if you&#39;ve missed a heartbeat.  Not the same as <code class="prettyprint">socket_sequence</code>!</td>
</tr>
<tr>
<td><code class="prettyprint">socket_sequence</code></td>
<td>integer</td>
<td>Y</td>
<td>zero-indexed monotonic increasing sequence number attached to each message sent - if there is a gap in this sequence, you have missed a message.  See <a href="#sequence-numbers">Sequence Numbers</a> for more information.</td>
</tr>
<tr>
<td><code class="prettyprint">trace_id</code></td>
<td>string</td>
<td>Y</td>
<td>Gemini adds a trace id to each WebSocket request that our networking team can use to trace your request in our logs.</td>
</tr>
</tbody></table>

<aside type="warning">If you miss one or more heartbeats, disconnect and reconnect.  If the socket sequence number contains a gap, disconnect and reconnect.</aside>

          <h2 id="active-orders">Active Orders</h2>

<blockquote>
<p>Your active orders</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109939984"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myapikey"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547754474"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547754474438</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3631.23"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109940168"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"solusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547754480"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547754480759</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53.83"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p>The next group of messages you receive shows all your current active orders at the time you subscribed.  (Unless you&#39;ve chosen to filter out the <code class="prettyprint">initial</code> order event type, in which case you will not receive these messages.)</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">initial</code></td>
</tr>
</tbody></table>

          <h2 id="accepted">Accepted</h2>

<p>When you place an order on the exchange, Gemini acknowledges that your order has been accepted for initial processing by sending you an <code class="prettyprint">accepted</code> event.  </p>

<p>Your order is now <strong>live</strong> on the exchange.  Possible outcomes are:</p>

<ul>
<li>if your limit order can be immediately filled and you have not chosen maker-or-cancel behavior, you will get zero or more initial <code class="prettyprint">fill</code> events, followed by

<ul>
<li>if your order has remaining quantity, then you will receive a <code class="prettyprint">booked</code> event to let you know that the remaining quantity is now visible on the exchange</li>
<li>if your order has been completely filled, you will receive a <code class="prettyprint">closed</code> event</li>
</ul></li>
<li>if your limit order includes behavior such as maker-or-cancel which cannot be fulfilled, <code class="prettyprint">cancelled</code> and then <code class="prettyprint">closed</code></li>
<li>market orders will be immediately filled with one or more <code class="prettyprint">fill</code> events followed by a <code class="prettyprint">closed</code> event</li>
</ul>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">accepted</code></td>
</tr>
</tbody></table>

          <h2 id="rejected">Rejected</h2>

<blockquote>
<p>This order was rejected because its price does not conform to the market price tick specified in <a href="#symbols-and-minimums">Symbols and minimums</a>.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"rejected"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"104246"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"104247"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidPrice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478205545"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478205545047</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"703.14444444"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">310311</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">

</span></code></pre>

<p>If your order cannot be accepted by the exchange, you will receive a single <code class="prettyprint">rejected</code> event.  </p>

<p>Note that the <code class="prettyprint">is_live</code> field of a <code class="prettyprint">rejected</code> order event is always <code class="prettyprint">false</code> but so is the <code class="prettyprint">is_cancelled</code> field: <code class="prettyprint">is_cancelled</code> is reserved for orders that are actually cancelled, and rejected orders are not live but they are also not cancelled.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">rejected</code></td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>string</td>
<td>The reason your order was rejected.  Contact <a href="mailto:trading@gemini.com">trading@gemini.com</a> for clarification.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="booked">Booked</h2>

<blockquote>
<p>Order booked</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booked"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535955"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535957"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547742952"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547742952725</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>When limit orders are <code class="prettyprint">booked</code>, they have a non-zero quantity visible on the exchange.  These orders remain on the exchange until they are completed filled or cancelled.</p>

<p>Market orders are never booked: they are accepted, filled, and then closed.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">booked</code></td>
</tr>
</tbody></table>

          <h2 id="filled">Filled</h2>

<blockquote>
<p>Complete fill on a limit order</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fill"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535955"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547743216"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547743216580</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"trade_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535970"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liquidity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maker"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.980575"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Partial fill on a limit order</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fill"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">556309</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478729284"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampMs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478729284169</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01514"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"total_executed_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"481.95988631"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"303.06099969"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"785.020886"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01514"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fill"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"trade_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"557315"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liquidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Maker"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01514"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"481.95988631"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0182421816968335"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee_currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">471177</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>A <code class="prettyprint">fill</code> event indicates a partial or a complete fill.  A complete fill is distinguished by a <code class="prettyprint">remaining_amount</code> of <code class="prettyprint">0</code>.</p>

<p>Note that here <code class="prettyprint">executed_amount</code> is the total amount of the order that has been filled.  The quantity filled by this specific trade is <code class="prettyprint">fill.amount</code>.</p>

<p>Similarly, <code class="prettyprint">price</code> is an optional field that denotes the original price of a limit order (absent for market buys and sells), while <code class="prettyprint">fill.price</code> is the execution price of the trade (always present).</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">fill</code></td>
</tr>
<tr>
<td><code class="prettyprint">fill.trade_id</code></td>
<td>string</td>
<td>Y</td>
<td>the event id the order was filled at</td>
</tr>
<tr>
<td><code class="prettyprint">fill.liquidity</code></td>
<td>string</td>
<td>Y</td>
<td>whether this side of the trade represents <code class="prettyprint">Maker</code> or <code class="prettyprint">Taker</code> liquidity</td>
</tr>
<tr>
<td><code class="prettyprint">fill.price</code></td>
<td>decimal</td>
<td>Y</td>
<td>the price the trade filled at</td>
</tr>
<tr>
<td><code class="prettyprint">fill.amount</code></td>
<td>decimal</td>
<td>Y</td>
<td>the amount of the trade fill</td>
</tr>
<tr>
<td><code class="prettyprint">fill.fee</code></td>
<td>decimal</td>
<td>Y</td>
<td>the fee associated with this side of the trade</td>
</tr>
<tr>
<td><code class="prettyprint">fill.fee_currency</code></td>
<td>string</td>
<td>Y</td>
<td>the three-letter code of the currency associated with the fee</td>
</tr>
</tbody></table>

          <h2 id="cancelled">Cancelled</h2>

<blockquote>
<p>Continuous book order cancelled</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109944118"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964524"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cancel_command_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109964523"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myapikey"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547756060"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547756060142</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.72"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>When one of your active orders is cancelled, you will receive a notification via a <code class="prettyprint">cancelled</code> event.</p>

<p>Your order could be cancelled because:</p>

<ul>
<li>you requested it</li>
<li>when you placed the order, you added a behavior such as <code class="prettyprint">immediate-or-cancel</code>, <code class="prettyprint">fill-or-kill</code>, or <code class="prettyprint">maker-or-cancel</code> which the exchange could not fulfil - in this case, your order is cancelled and closed instead of being booked</li>
<li>your FIX connection was <a href="/fix-api/#ending-a-connection">disconnected</a>, and all your orders have been cancelled</li>
<li>your API session key has been provisioned to <a href="/rest-api/#private-api-invocation">require a heartbeat</a> and due to a heartbeat timeout, all your orders have been cancelled </li>
</ul>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">fill</code></td>
</tr>
<tr>
<td><code class="prettyprint">cancel_command_id</code></td>
<td>string</td>
<td>N</td>
<td>The event id of the command to cancel your order.</td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>string</td>
<td>N</td>
<td>When possible, Gemini will supply the reason your order was cancelled.</td>
</tr>
</tbody></table>

          <h2 id="cancel-rejected">Cancel Rejected</h2>

<blockquote>
<p>Cancel Rejected</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel_rejected"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6425"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6434"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cancel_command_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6433"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderNotFound"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api_session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1478204773"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1478204773113</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"721.24"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"socket_sequence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">312300</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p>When Gemini cannot fulfil your request to cancel an order, you&#39;ll receive a <code class="prettyprint">cancel_rejected</code> notification.</p>

<p>Reasons this might happen include:</p>

<ul>
<li>the order you tried to cancel can&#39;t be found</li>
</ul>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">cancel_rejected</code></td>
</tr>
<tr>
<td><code class="prettyprint">cancel_command_id</code></td>
<td>string</td>
<td>Y</td>
<td>The event id of the command to cancel your order.</td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>string</td>
<td>Y</td>
<td>The reason Gemini could not fulfil your request to cancel your order.</td>
</tr>
</tbody></table>

          <h2 id="closed">Closed</h2>

<blockquote>
<p>Limit Sell closed</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"closed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535955"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109535971"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1547743216"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547743216580</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3592.23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>The <code class="prettyprint">closed</code> event is the last event in the workflow of any order that has been <code class="prettyprint">accepted</code> on the exchange.  When you receive this event, you will know that your order has been removed from the book.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#event-types">order event type</a></td>
<td>Y</td>
<td><code class="prettyprint">closed</code></td>
</tr>
</tbody></table>

          <h1 id="market-data">Market Data</h1>

<p>Market data is a public API that streams all the market data on a given symbol.</p>

<blockquote>
<p>BTC Market Data Feed</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="s">"wss://api.gemini.com/v1/marketdata/BTCUSD"</span><span class="p">,</span>
    <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code>npm install -g wscat
wscat --connect wss://api.gemini.com/v1/marketdata/btcusd
</code></pre>

<blockquote>
<p>Example: Offers only, top of book</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="s">"wss://api.gemini.com/v1/marketdata/btcusd?top_of_book=true&amp;bids=false"</span><span class="p">,</span>
    <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>wscat --connect<span class="o">=</span>wss://api.gemini.com/v1/marketdata/btcusd?top_of_book<span class="o">=</span><span class="nb">true</span><span class="se">\&amp;</span><span class="nv">bids</span><span class="o">=</span><span class="nb">false
</span>connected <span class="o">(</span>press CTRL+C to quit<span class="o">)</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:35015,<span class="s2">"socket_sequence"</span>:0,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"6629.89"</span>,<span class="s2">"delta"</span>:<span class="s2">"13.928195144"</span>,<span class="s2">"remaining"</span>:<span class="s2">"13.928195144"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:35051,<span class="s2">"timestamp"</span>:1528247534,<span class="s2">"timestampms"</span>:1528247534252,<span class="s2">"socket_sequence"</span>:1,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"top-of-book"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6631.44"</span>,<span class="s2">"remaining"</span>:<span class="s2">"33.96746891"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:35053,<span class="s2">"timestamp"</span>:1528247534,<span class="s2">"timestampms"</span>:1528247534252,<span class="s2">"socket_sequence"</span>:2,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"top-of-book"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6631.44"</span>,<span class="s2">"remaining"</span>:<span class="s2">"28.267969234"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:35117,<span class="s2">"timestamp"</span>:1528247538,<span class="s2">"timestampms"</span>:1528247538541,<span class="s2">"socket_sequence"</span>:3,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"top-of-book"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6633.04"</span>,<span class="s2">"remaining"</span>:<span class="s2">"23.53504107"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:35122,<span class="s2">"timestamp"</span>:1528247538,<span class="s2">"timestampms"</span>:1528247538745,<span class="s2">"socket_sequence"</span>:4,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"top-of-book"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6633.87"</span>,<span class="s2">"remaining"</span>:<span class="s2">"19.15815988"</span><span class="o">}]}</span>
</code></pre>

<blockquote>
<p>Example:  Trades only</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="s">"wss://api.gemini.com/v1/marketdata/btcusd?trades=true"</span><span class="p">,</span>
    <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>wscat --connect<span class="o">=</span>wss://api.gemini.com/v1/marketdata/btcusd?trades<span class="o">=</span><span class="nb">true
</span>connected <span class="o">(</span>press CTRL+C to quit<span class="o">)</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62653,<span class="s2">"socket_sequence"</span>:0,<span class="s2">"events"</span>:[]<span class="o">}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62711,<span class="s2">"timestamp"</span>:1528249346,<span class="s2">"timestampms"</span>:1528249346783,<span class="s2">"socket_sequence"</span>:1,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62711,<span class="s2">"price"</span>:<span class="s2">"6619.37"</span>,<span class="s2">"amount"</span>:<span class="s2">"7.8662471812"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62713,<span class="s2">"timestamp"</span>:1528249346,<span class="s2">"timestampms"</span>:1528249346783,<span class="s2">"socket_sequence"</span>:2,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62713,<span class="s2">"price"</span>:<span class="s2">"6619.46"</span>,<span class="s2">"amount"</span>:<span class="s2">"13.9673234988"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62795,<span class="s2">"timestamp"</span>:1528249351,<span class="s2">"timestampms"</span>:1528249351276,<span class="s2">"socket_sequence"</span>:3,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62795,<span class="s2">"price"</span>:<span class="s2">"6619.46"</span>,<span class="s2">"amount"</span>:<span class="s2">"16.7321435012"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62797,<span class="s2">"timestamp"</span>:1528249351,<span class="s2">"timestampms"</span>:1528249351276,<span class="s2">"socket_sequence"</span>:4,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62797,<span class="s2">"price"</span>:<span class="s2">"6619.70"</span>,<span class="s2">"amount"</span>:<span class="s2">"2.3054248088"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62823,<span class="s2">"timestamp"</span>:1528249352,<span class="s2">"timestampms"</span>:1528249352909,<span class="s2">"socket_sequence"</span>:5,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62823,<span class="s2">"price"</span>:<span class="s2">"6619.70"</span>,<span class="s2">"amount"</span>:<span class="s2">"0.0002606894"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:62830,<span class="s2">"timestamp"</span>:1528249353,<span class="s2">"timestampms"</span>:1528249353316,<span class="s2">"socket_sequence"</span>:6,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:62830,<span class="s2">"price"</span>:<span class="s2">"6610.15"</span>,<span class="s2">"amount"</span>:<span class="s2">"0.00273253"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"bid"</span><span class="o">}]}</span>
</code></pre>

<blockquote>
<p>Example: Full depth, bids and offers only</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="s">"wss://api.gemini.com/v1/marketdata/btcusd?bids=true&amp;offers=true"</span><span class="p">,</span>
    <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>wscat --connect<span class="o">=</span>wss://api.gemini.com/v1/marketdata/btcusd?bids<span class="o">=</span><span class="nb">true</span>&amp;offers<span class="o">=</span><span class="nb">true
</span>connected <span class="o">(</span>press CTRL+C to quit<span class="o">)</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64575,<span class="s2">"socket_sequence"</span>:0,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"6511.13"</span>,<span class="s2">"delta"</span>:<span class="s2">"26.93362206"</span>,<span class="s2">"remaining"</span>:<span class="s2">"26.93362206"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span><span class="o">}</span>,<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"6823.47"</span>,<span class="s2">"delta"</span>:<span class="s2">"34.526471"</span>,<span class="s2">"remaining"</span>:<span class="s2">"34.526471"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64609,<span class="s2">"timestamp"</span>:1528249465,<span class="s2">"timestampms"</span>:1528249465320,<span class="s2">"socket_sequence"</span>:1,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6622.84"</span>,<span class="s2">"remaining"</span>:<span class="s2">"16.49742094"</span>,<span class="s2">"delta"</span>:<span class="s2">"16.49742094"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64634,<span class="s2">"timestamp"</span>:1528249466,<span class="s2">"timestampms"</span>:1528249466750,<span class="s2">"socket_sequence"</span>:2,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"price"</span>:<span class="s2">"6592.30"</span>,<span class="s2">"remaining"</span>:<span class="s2">"18.97068216"</span>,<span class="s2">"delta"</span>:<span class="s2">"18.97068216"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64651,<span class="s2">"timestamp"</span>:1528249467,<span class="s2">"timestampms"</span>:1528249467565,<span class="s2">"socket_sequence"</span>:3,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6636.75"</span>,<span class="s2">"remaining"</span>:<span class="s2">"16.10859393"</span>,<span class="s2">"delta"</span>:<span class="s2">"16.10859393"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64656,<span class="s2">"timestamp"</span>:1528249467,<span class="s2">"timestampms"</span>:1528249467975,<span class="s2">"socket_sequence"</span>:4,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6642.91"</span>,<span class="s2">"remaining"</span>:<span class="s2">"23.553287"</span>,<span class="s2">"delta"</span>:<span class="s2">"23.553287"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64663,<span class="s2">"timestamp"</span>:1528249468,<span class="s2">"timestampms"</span>:1528249468587,<span class="s2">"socket_sequence"</span>:5,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6635.61"</span>,<span class="s2">"remaining"</span>:<span class="s2">"17.97336167"</span>,<span class="s2">"delta"</span>:<span class="s2">"17.97336167"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64678,<span class="s2">"timestamp"</span>:1528249469,<span class="s2">"timestampms"</span>:1528249469405,<span class="s2">"socket_sequence"</span>:6,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"price"</span>:<span class="s2">"6596.96"</span>,<span class="s2">"remaining"</span>:<span class="s2">"21.93141551"</span>,<span class="s2">"delta"</span>:<span class="s2">"21.93141551"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64703,<span class="s2">"timestamp"</span>:1528249471,<span class="s2">"timestampms"</span>:1528249471450,<span class="s2">"socket_sequence"</span>:7,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"price"</span>:<span class="s2">"6588.67"</span>,<span class="s2">"remaining"</span>:<span class="s2">"17.66913232"</span>,<span class="s2">"delta"</span>:<span class="s2">"17.66913232"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64708,<span class="s2">"timestamp"</span>:1528249471,<span class="s2">"timestampms"</span>:1528249471858,<span class="s2">"socket_sequence"</span>:8,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6623.78"</span>,<span class="s2">"remaining"</span>:<span class="s2">"16.44716907"</span>,<span class="s2">"delta"</span>:<span class="s2">"16.44716907"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64736,<span class="s2">"timestamp"</span>:1528249474,<span class="s2">"timestampms"</span>:1528249474104,<span class="s2">"socket_sequence"</span>:9,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6623.89"</span>,<span class="s2">"remaining"</span>:<span class="s2">"36.91752526"</span>,<span class="s2">"delta"</span>:<span class="s2">"36.91752526"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:64748,<span class="s2">"timestamp"</span>:1528249475,<span class="s2">"timestampms"</span>:1528249475127,<span class="s2">"socket_sequence"</span>:10,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"price"</span>:<span class="s2">"6630.94"</span>,<span class="s2">"remaining"</span>:<span class="s2">"17.8888451"</span>,<span class="s2">"delta"</span>:<span class="s2">"17.8888451"</span>,<span class="s2">"reason"</span>:<span class="s2">"place"</span><span class="o">}]}</span>
</code></pre>

<p>The initial response message will show the existing state of the order
book for both bids and offers, regardless of the additional parameters applied in the URL.  Subsequent messages will show all executed trades, as well as all other changes to the order book from orders placed or canceled.</p>

<h3 id="websocket-request">WebSocket Request</h3>

<p><code class="prettyprint">wss://api.gemini.com/v1/marketdata/:symbol</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">heartbeat</code></td>
<td>No</td>
<td>false</td>
<td>Optionally add this parameter and set to <code class="prettyprint">true</code> to receive a heartbeat every 5 seconds</td>
</tr>
<tr>
<td><code class="prettyprint">top_of_book</code></td>
<td>No</td>
<td>false</td>
<td>If absent or <code class="prettyprint">false</code>, receive full order book depth; if present and <code class="prettyprint">true</code>, receive top of book only.  Only applies to bids and offers.</td>
</tr>
<tr>
<td><code class="prettyprint">bids</code></td>
<td>No</td>
<td>true</td>
<td>Include bids in <code class="prettyprint">change</code> events</td>
</tr>
<tr>
<td><code class="prettyprint">offers</code></td>
<td>No</td>
<td>true</td>
<td>Include asks in <code class="prettyprint">change</code> events</td>
</tr>
<tr>
<td><code class="prettyprint">trades</code></td>
<td>No</td>
<td>true</td>
<td>Include <code class="prettyprint">trade</code> events</td>
</tr>
</tbody></table>

<p>The semantics of entry type filtering is:</p>

<ul>
<li>To be excluded from <code class="prettyprint">change</code> events in the response, an entry type must be explicitly flagged <code class="prettyprint">false</code></li>
<li>If no entry types filtering parameters are included in the url, then <em>all</em> entry types will appear in the response</li>
</ul>

<p><em>NOTE: <code class="prettyprint">top_of_book</code> has no meaning and initial book events are empty when only <code class="prettyprint">trades</code> is specified</em></p>

<h3 id="response">Response</h3>

<blockquote>
<p>Initial JSON response message for BTC top of book</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375461993</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"change"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3641.61"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.83372051"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.83372051"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"change"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3641.62"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.072"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.072"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>If heartbeat is enabled:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"heartbeat"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="mi">30</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A WebSocket stream with each frame containing a JSON message of the following format:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td><code class="prettyprint">heartbeat</code> or <code class="prettyprint">update</code></td>
</tr>
<tr>
<td><code class="prettyprint">socket_sequence</code></td>
<td>integer</td>
<td>zero-indexed monotonic increasing sequence number attached to each message sent - if there is a gap in this sequence, you have missed a message.  If you choose to enable heartbeats, then <code class="prettyprint">heartbeat</code> and <code class="prettyprint">update</code> messages will share a single increasing sequence.  See <a href="#sequence-numbers">Sequence Numbers</a> for more information.</td>
</tr>
</tbody></table>

<p>Messages with type <code class="prettyprint">heartbeat</code> have no additional fields.</p>

<p>Messages of type <code class="prettyprint">update</code> have the following additional fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">eventId</code></td>
<td><a href="#data-types">integer</a></td>
<td>A monotonically increasing sequence number indicating when this change occurred. These numbers are persistent and consistent between market data connections.</td>
</tr>
<tr>
<td><code class="prettyprint">events</code></td>
<td><a href="#data-types">array</a></td>
<td>Either a change to the order book, or the indication that a trade has occurred.</td>
</tr>
<tr>
<td><code class="prettyprint">timestamp</code></td>
<td><a href="#timestamps">timestamp</a></td>
<td>The timestamp in seconds for this group of events (included for compatibility reasons).  We recommend using the <code class="prettyprint">timestampms</code> field instead.</td>
</tr>
<tr>
<td><code class="prettyprint">timestampms</code></td>
<td><a href="#timestamps">timestampms</a></td>
<td>The timestamp in milliseconds for this group of events.</td>
</tr>
</tbody></table>

<h3 id="common-fields">Common fields</h3>

<p>All elements of the <code class="prettyprint">events</code> share the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#data-types">string</a></td>
<td>Either <code class="prettyprint">trade</code> or <code class="prettyprint">change</code>.</td>
</tr>
</tbody></table>

<h2 id="change-event">Change event</h2>

<blockquote>
<p>When an order is placed:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375504382</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547759967</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547759967559</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"change"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3626.73"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>When an order is canceled:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375503736</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547759964</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547759964051</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"change"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3628.01"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Elements of type <code class="prettyprint">change</code> have the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price</code></td>
<td>decimal</td>
<td>The price of this order book entry.</td>
</tr>
<tr>
<td><code class="prettyprint">side</code></td>
<td>string</td>
<td>Either <code class="prettyprint">bid</code> or <code class="prettyprint">ask</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>string</td>
<td>Either <code class="prettyprint">place</code>, <code class="prettyprint">trade</code>, <code class="prettyprint">cancel</code>, or <code class="prettyprint">initial</code>, to indicate why the change has occurred.  <code class="prettyprint">initial</code> is for the initial response message, which will show the entire existing state of the order book.</td>
</tr>
<tr>
<td><code class="prettyprint">remaining</code></td>
<td>decimal</td>
<td>The quantity remaining at that price level after this change occurred.  May be zero if all orders at this price level have been filled or canceled.</td>
</tr>
<tr>
<td><code class="prettyprint">delta</code></td>
<td>decimal</td>
<td>The quantity changed. May be negative, if an order is filled or canceled.  For <code class="prettyprint">initial</code> messages, <code class="prettyprint">delta</code> will equal <code class="prettyprint">remaining</code>.</td>
</tr>
</tbody></table>

<p>Note that every trade will trigger a message with entries of both types <code class="prettyprint">trade</code> and <code class="prettyprint">change</code>.</p>

<p>To keep an up-to-date order book, just watch for any <code class="prettyprint">events</code> with <code class="prettyprint">{&quot;type&quot;: &quot;change&quot;}</code>, and update the price
level at <code class="prettyprint">price</code> with the amount at <code class="prettyprint">remaining</code>.  The initial response message will contain all the <code class="prettyprint">change</code> events necessary
to populate your order book from scratch.</p>

<h2 id="trade-event">Trade event</h2>

<blockquote>
<p>When a trade occurs:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375547515</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547760288</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547760288001</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375547515</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3632.54"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1362819142"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"makerSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Elements of the type <code class="prettyprint">trade</code> have the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price</code></td>
<td>decimal</td>
<td>The price this trade executed at.</td>
</tr>
<tr>
<td><code class="prettyprint">amount</code></td>
<td>decimal</td>
<td>The amount traded.</td>
</tr>
<tr>
<td><code class="prettyprint">makerSide</code></td>
<td>string</td>
<td>The side of the book the maker of the trade placed their order on. Either <code class="prettyprint">bid</code>, <code class="prettyprint">ask</code>.</td>
</tr>
</tbody></table>

          <h1 id="market-data-version-2">Market Data Version 2</h1>

<p>The initial response message will show the existing state of the order books and last 50 trades. Subsequent messages will show all executed trades, as well as all other changes to the order book from order placed or cancelled.</p>

<h3 id="level-2-subscribe-message-fields">Level 2 Subscribe Message Fields</h3>

<p>Send a JSON formatted message with the following fields upon connecting to <code class="prettyprint">v2/marketdata</code></p>

<blockquote>
<p>BTC Market Data Feed</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>
<span class="kn">import</span> <span class="nn">_thread</span> <span class="kn">as</span> <span class="nn">thread</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="n">ws</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"### closed ###"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_open</span><span class="p">(</span><span class="n">ws</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">ws</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">logon_msg</span><span class="p">)</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">start_new_thread</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">logon_msg</span> <span class="o">=</span> <span class="s">'{"type": "subscribe","subscriptions":[{"name":"l2","symbols":["BTCUSD","ETHUSD","ETHBTC"]}]}'</span>
    <span class="n">websocket</span><span class="o">.</span><span class="n">enableTrace</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span><span class="s">"wss://api.gemini.com/v2/marketdata"</span><span class="p">,</span>
                                <span class="n">on_message</span> <span class="o">=</span> <span class="n">on_message</span><span class="p">,</span>
                                <span class="n">on_error</span> <span class="o">=</span> <span class="n">on_error</span><span class="p">,</span>
                                <span class="n">on_close</span> <span class="o">=</span> <span class="n">on_close</span><span class="p">,</span>
                                <span class="n">on_open</span> <span class="o">=</span> <span class="n">on_open</span><span class="p">)</span>
    <span class="n">ws</span><span class="o">.</span><span class="n">on_open</span> <span class="o">=</span> <span class="n">on_open</span>
    <span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>wscat --connect wss://api.gemini.com/v2/marketdata
<span class="gp">&gt; </span>connected <span class="o">(</span>press CTRL+C to quit<span class="o">)</span>
<span class="gp">&gt; </span><span class="o">{</span><span class="s2">"type"</span>: <span class="s2">"subscribe"</span>,<span class="s2">"subscriptions"</span>:[<span class="o">{</span><span class="s2">"name"</span>:<span class="s2">"l2"</span>,<span class="s2">"symbols"</span>:[<span class="s2">"BTCUSD"</span>,<span class="s2">"ETHUSD"</span>,<span class="s2">"ETHBTC"</span><span class="o">]}]}</span>
</code></pre>

<p>Market data v2 is a public API that can stream all market and candle data across books. Market data v2 also supports multiple subscriptions in the same data feed.</p>

<h3 id="websocket-request">WebSocket Request</h3>

<p><code class="prettyprint">wss://api.gemini.com/v2/marketdata</code></p>

<h3 id="subscription-message">Subscription Message</h3>

<p>After connecting to <code class="prettyprint">v2/marketdata</code> you can subscribe to any of the following data feeds.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">l2</code></td>
<td>Level 2 book data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_1m</code></td>
<td>1 minute candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_5m</code></td>
<td>5 minute candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_15m</code></td>
<td>15 minute candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_30m</code></td>
<td>30 minute candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_1h</code></td>
<td>1 hour candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_6h</code></td>
<td>6 hour candle data</td>
</tr>
<tr>
<td><code class="prettyprint">candles_1d</code></td>
<td>1 day candle data</td>
</tr>
</tbody></table>

<p>To subcribe to a data feed, send a subscription message in the following format.</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">subscribe</code></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions</code></td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">l2</code>, <code class="prettyprint">candle_1m</code>, etc.</td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTCUSD, &quot;ETHBTC&quot;, ... ]</td>
</tr>
</tbody></table>

<h2 id="level-2-data">Level 2 Data</h2>

<blockquote>
<p>Initial JSON response for l2 subscription</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"l2_updates"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"9122.04"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.00121425"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"9122.07"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.98942292"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"eventid"</span><span class="p">:</span><span class="w"> </span><span class="mi">169841458</span><span class="p">,</span><span class="w">
          </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1560976400428</span><span class="p">,</span><span class="w">
          </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9122.04"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0073173"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2840140800042677</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">subscribe</code></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions</code></td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">l2</code></td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTCUSD&quot;, &quot;ETHBTC&quot;, ...]</td>
</tr>
</tbody></table>

<h3 id="level-2-update-response">Level 2 Update Response</h3>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td><code class="prettyprint">l2_updates</code></td>
</tr>
<tr>
<td><code class="prettyprint">symbol</code></td>
<td>string</td>
<td><code class="prettyprint">BTCUSD</code>, etc</td>
</tr>
<tr>
<td><code class="prettyprint">changes</code></td>
<td>array of arrays</td>
<td>Changes to order book</td>
</tr>
<tr>
<td>--</td>
<td>string</td>
<td>Buy or Sell</td>
</tr>
<tr>
<td>--</td>
<td>string</td>
<td>Price Level</td>
</tr>
<tr>
<td>--</td>
<td>string</td>
<td>Quantity</td>
</tr>
</tbody></table>

<blockquote>
<p>JSON reponse for l2 update</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"l2_updates"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"9160.20"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.1921229751"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="trade-response">Trade Response</h3>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td><code class="prettyprint">trade</code></td>
</tr>
<tr>
<td><code class="prettyprint">symbol</code></td>
<td>string</td>
<td><code class="prettyprint">BTCUSD</code>, etc</td>
</tr>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>long</td>
<td>Event ID of the trade</td>
</tr>
<tr>
<td><code class="prettyprint">timestamp</code></td>
<td>long</td>
<td>Time of the trade in milliseconds</td>
</tr>
<tr>
<td><code class="prettyprint">price</code></td>
<td>string</td>
<td>Price of the trade</td>
</tr>
<tr>
<td><code class="prettyprint">quantity</code></td>
<td>string</td>
<td>Quantity traded</td>
</tr>
<tr>
<td><code class="prettyprint">side</code></td>
<td>string</td>
<td>Side of the taker in the trade. <code class="prettyprint">buy</code> or <code class="prettyprint">sell</code></td>
</tr>
<tr>
<td><code class="prettyprint">tid</code></td>
<td>long</td>
<td>Trade ID of the trade</td>
</tr>
</tbody></table>

<blockquote>
<p>JSON response trade execution</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3575573053</span><span class="p">,</span><span class="w">
    </span><span class="err">“timestamp”</span><span class="p">:</span><span class="w"> </span><span class="mi">151231241</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9004.21000000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09110000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2840140800042677</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="candles-data-feed">Candles Data Feed</h2>

<p>The Candle Data feed provides periodic updates with OHLCV data for the given timeframe.</p>

<h3 id="candle-data-feed-subcribe-message">Candle Data Feed Subcribe Message</h3>

<p>Send a JSON formatted message with the following fields upon connecting to <code class="prettyprint">v2/marketdata</code></p>

<blockquote>
<p>Example JSON Candle Subscription Message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candles_15m"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BTCUSD"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">subscribe</code></td>
</tr>
<tr>
<td>subscriptions</td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">candles_1m</code>, <code class="prettyprint">candles_5m</code>, etc.</td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTCUSD&quot;, &quot;ETHBTC&quot;, ...]</td>
</tr>
</tbody></table>

<blockquote>
<p>Example JSON Candle Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candles_15m_updates"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="mi">1561054500000</span><span class="p">,</span><span class="w">
        </span><span class="mf">9350.18</span><span class="p">,</span><span class="w">
        </span><span class="mf">9358.35</span><span class="p">,</span><span class="w">
        </span><span class="mf">9350.18</span><span class="p">,</span><span class="w">
        </span><span class="mf">9355.51</span><span class="p">,</span><span class="w">
        </span><span class="mf">2.07</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="mi">1561053600000</span><span class="p">,</span><span class="w">
        </span><span class="mf">9357.33</span><span class="p">,</span><span class="w">
        </span><span class="mf">9357.33</span><span class="p">,</span><span class="w">
        </span><span class="mf">9350.18</span><span class="p">,</span><span class="w">
        </span><span class="mf">9350.18</span><span class="p">,</span><span class="w">
        </span><span class="mf">1.5900161</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="candle-data-response">Candle Data Response</h3>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td><code class="prettyprint">candles_1m_updates</code>, <code class="prettyprint">candles_5m_updates</code>, etc.</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td><code class="prettyprint">BTCUSD</code>, etc.</td>
</tr>
<tr>
<td>candles</td>
<td>Array of Arrays (TOHLCV)</td>
<td>Changes to order book</td>
</tr>
<tr>
<td>-- -- time</td>
<td>long</td>
<td>milliseconds</td>
</tr>
<tr>
<td>-- -- open</td>
<td>decimal</td>
<td>Open price</td>
</tr>
<tr>
<td>-- -- high</td>
<td>decimal</td>
<td>High price</td>
</tr>
<tr>
<td>-- -- low</td>
<td>decimal</td>
<td>Low price</td>
</tr>
<tr>
<td>-- -- close</td>
<td>decimal</td>
<td>Close price</td>
</tr>
<tr>
<td>-- -- volume</td>
<td>decimal</td>
<td>Volume</td>
</tr>
</tbody></table>

<h2 id="mark-price-feed">Mark Price Feed</h2>

<p>The Mark Price feed provides mark price updates for a subscribed perpetual instrument</p>

<h3 id="mark-price-feed-subscribe-message">Mark Price Feed Subscribe Message</h3>

<p>Send a JSON formatted message with following fields upon connecting to <code class="prettyprint">v2/marketdata</code></p>

<blockquote>
<p>Example JSON Mark Price Subscription Message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark_price"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BTC-GUSD-PERP"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">subscribe</code></td>
</tr>
<tr>
<td>subscriptions</td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">mark_price</code></td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTC-GUSD-PERP&quot;, ...]</td>
</tr>
</tbody></table>

<h3 id="mark-price-response">Mark Price Response</h3>

<blockquote>
<p>Example JSON Mark Price Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark_price_updates"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCGUSDPERP"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1673932381478308169</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mark_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21154.098"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"spot_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21175.27333"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">mark_price_updates</code></td>
</tr>
<tr>
<td>symbol</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">BTC-GUSD-PERP</code></td>
</tr>
<tr>
<td>changes</td>
<td><a href="#data-types">array</a></td>
<td>change to mark price</td>
</tr>
</tbody></table>

<p>All elements of <code class="prettyprint">changes</code> share the following fields:</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td><a href="#data-types">integer</a></td>
<td>nanoseconds</td>
</tr>
<tr>
<td>mark_price</td>
<td><a href="#data-types">string</a></td>
<td>mark price</td>
</tr>
<tr>
<td>spot_index</td>
<td><a href="#data-types">string</a></td>
<td>spot index</td>
</tr>
</tbody></table>

<h2 id="funding-amount-feed">Funding Amount Feed</h2>

<p>The Funding Amount feed provides funding amount updates for a subscribed perpetual instrument</p>

<h3 id="funding-amount-feed-subscribe-message">Funding Amount Feed Subscribe Message</h3>

<p>Send a JSON formatted message with following fields upon connecting to <code class="prettyprint">v2/marketdata</code></p>

<blockquote>
<p>Example JSON Funding Amount Subscription Message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding_amount"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BTC-GUSD-PERP"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">subscribe</code></td>
</tr>
<tr>
<td>subscriptions</td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">funding_amount</code></td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTC-GUSD-PERP&quot;, ...]</td>
</tr>
</tbody></table>

<h3 id="funding-amount-response">Funding Amount Response</h3>

<blockquote>
<p>Example JSON Funding Amount Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding_amount_updates"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCGUSDPERP"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1673932380007696874</span><span class="p">,</span><span class="w">
      </span><span class="nt">"funding_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"funding_date_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1673932380007696874</span><span class="p">,</span><span class="w">
      </span><span class="nt">"funding_interval_in_minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_realized"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">funding_amount_updates</code></td>
</tr>
<tr>
<td>symbol</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">BTC-GUSD-PERP</code></td>
</tr>
<tr>
<td>changes</td>
<td><a href="#data-types">array</a></td>
<td>change to funding amount</td>
</tr>
</tbody></table>

<p>All elements of <code class="prettyprint">changes</code> share the following fields:</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td><a href="#data-types">integer</a></td>
<td>nanoseconds</td>
</tr>
<tr>
<td>funding_amount</td>
<td><a href="#data-types">string</a></td>
<td>funding amount</td>
</tr>
<tr>
<td>funding_date_time</td>
<td><a href="#data-types">integer</a></td>
<td>funding date time</td>
</tr>
<tr>
<td>funding_interval_in_minutes</td>
<td><a href="#data-types">integer</a></td>
<td>funding interval in minutes</td>
</tr>
<tr>
<td>is_realized</td>
<td><a href="#data-types">boolean</a></td>
<td>is realized funding</td>
</tr>
</tbody></table>

<h2 id="unsubscribe">Unsubscribe</h2>

<p>Unsubscribe from data feeds by sending a message in the following format.</p>

<blockquote>
<p>Sample unsubscribe message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"l2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETHBTC"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candles_1m"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETHBTC"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field Name</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">unsubscribe</code></td>
</tr>
<tr>
<td>subscriptions</td>
<td><a href="#data-types">array</a></td>
<td></td>
</tr>
<tr>
<td>-- name</td>
<td><a href="#data-types">string</a></td>
<td><code class="prettyprint">l2</code>, <code class="prettyprint">candles_1m</code>, etc.</td>
</tr>
<tr>
<td>-- symbols</td>
<td><a href="#data-types">array</a></td>
<td>[&quot;BTCUSD&quot;, &quot;ETHBTC&quot;, ...]</td>
</tr>
</tbody></table>

          <h1 id="multi-market-data">Multi Market Data</h1>

<p>Multi market data is a public API which allows for multiple symbols to be streamed via a single endpoint.</p>

<blockquote>
<p>BTCUSD and ETHUSD Multi Market Data Feed</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="s">"wss://api.gemini.com/v1/multimarketdata?symbols=BTCUSD,ETHUSD"</span><span class="p">,</span>
    <span class="n">on_message</span><span class="o">=</span><span class="n">on_message</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">run_forever</span><span class="p">(</span><span class="n">sslopt</span><span class="o">=</span><span class="p">{</span><span class="s">"cert_reqs"</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code>npm install -g wscat
wscat --connect wss://api.gemini.com/v1/v1/multimarketdata?symbols<span class="o">=</span>BTCUSD,ETHUSD
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:773797793,<span class="s2">"socket_sequence"</span>:0,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"1.00"</span>,<span class="s2">"delta"</span>:<span class="s2">"236.5"</span>,<span class="s2">"remaining"</span>:<span class="s2">"236.5"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"symbol"</span>:<span class="s2">"BTCUSD"</span><span class="o">}</span>,<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"2.00"</span>,<span class="s2">"delta"</span>:<span class="s2">"176"</span><span class="o">}</span>,
...
<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"59137.50"</span>,<span class="s2">"delta"</span>:<span class="s2">"0.00031"</span>,<span class="s2">"remaining"</span>:<span class="s2">"0.00031"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"symbol"</span>:<span class="s2">"BTCUSD"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:773797763,<span class="s2">"socket_sequence"</span>:1,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"6.95"</span>,<span class="s2">"delta"</span>:<span class="s2">"9"</span>,<span class="s2">"remaining"</span>:<span class="s2">"9"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"symbol"</span>:<span class="s2">"ETHUSD"</span><span class="o">}</span>,
...
<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"reason"</span>:<span class="s2">"initial"</span>,<span class="s2">"price"</span>:<span class="s2">"1827.84"</span>,<span class="s2">"delta"</span>:<span class="s2">"14.8"</span>,<span class="s2">"remaining"</span>:<span class="s2">"14.8"</span>,<span class="s2">"side"</span>:<span class="s2">"ask"</span>,<span class="s2">"symbol"</span>:<span class="s2">"ETHUSD"</span><span class="o">}]}</span>
&lt; <span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"update"</span>,<span class="s2">"eventId"</span>:773797906,<span class="s2">"timestamp"</span>:1617045817,<span class="s2">"timestampms"</span>:1617045817599,<span class="s2">"socket_sequence"</span>:2,<span class="s2">"events"</span>:[<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"trade"</span>,<span class="s2">"tid"</span>:773797906,<span class="s2">"price"</span>:<span class="s2">"57734.10"</span>,<span class="s2">"amount"</span>:<span class="s2">"0.002"</span>,<span class="s2">"makerSide"</span>:<span class="s2">"bid"</span>,<span class="s2">"symbol"</span>:<span class="s2">"BTCUSD"</span><span class="o">}</span>,<span class="o">{</span><span class="s2">"type"</span>:<span class="s2">"change"</span>,<span class="s2">"side"</span>:<span class="s2">"bid"</span>,<span class="s2">"price"</span>:<span class="s2">"57734.10"</span>,<span class="s2">"remaining"</span>:<span class="s2">"0.0107803"</span>,<span class="s2">"delta"</span>:<span class="s2">"-0.002"</span>,<span class="s2">"reason"</span>:<span class="s2">"trade"</span>,<span class="s2">"symbol"</span>:<span class="s2">"BTCUSD"</span><span class="o">}]}</span>
</code></pre>

<p>The initial response message will show the existing state of the order
books requested.  Subsequent messages will show all executed trades, as well as all other changes to the order books from orders placed or canceled.</p>

<h3 id="websocket-request">WebSocket Request</h3>

<p><code class="prettyprint">wss://api.gemini.com/v1/multimarketdata?symbols=BTCUSD,ETHUSD</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">symbols</code></td>
<td>Yes</td>
<td>false</td>
<td><em>required</em>. Will stream market data for symbols provided. Can provide data for multiple symbols on the same stream.</td>
</tr>
<tr>
<td><code class="prettyprint">heartbeat</code></td>
<td>No</td>
<td>false</td>
<td>Optionally add this parameter and set to <code class="prettyprint">true</code> to receive a heartbeat every 5 seconds</td>
</tr>
<tr>
<td><code class="prettyprint">top_of_book</code></td>
<td>No</td>
<td>false</td>
<td>If absent or <code class="prettyprint">false</code>, receive full order book depth; if present and <code class="prettyprint">true</code>, receive top of book only.  Only applies to bids and offers.</td>
</tr>
<tr>
<td><code class="prettyprint">bids</code></td>
<td>No</td>
<td>true</td>
<td>Include bids in <code class="prettyprint">change</code> events</td>
</tr>
<tr>
<td><code class="prettyprint">offers</code></td>
<td>No</td>
<td>true</td>
<td>Include asks in <code class="prettyprint">change</code> events</td>
</tr>
<tr>
<td><code class="prettyprint">trades</code></td>
<td>No</td>
<td>true</td>
<td>Include <code class="prettyprint">trade</code> events</td>
</tr>
</tbody></table>

<p>The semantics of entry type filtering is:</p>

<ul>
<li>If any entry type is specified as <code class="prettyprint">true</code> or <code class="prettyprint">false</code>, all of them must be explicitly flagged <code class="prettyprint">true</code> to show up in the response</li>
<li>If no entry types filtering parameters are included in the url, then <em>all</em> entry types will appear in the response</li>
</ul>

<p><em>NOTE: <code class="prettyprint">top_of_book</code> has no meaning and initial book events are empty when only <code class="prettyprint">trades</code> is specified</em></p>

<h3 id="response">Response</h3>

<blockquote>
<p>Initial JSON response messages for BTCUSD and ETHUSD</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"update"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eventId"</span><span class="p">:</span><span class="mi">773797793</span><span class="p">,</span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"events"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"change"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"delta"</span><span class="p">:</span><span class="s2">"236.5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remaining"</span><span class="p">:</span><span class="s2">"236.5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
</span><span class="err">...</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"change"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"59137.50"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"delta"</span><span class="p">:</span><span class="s2">"0.00031"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remaining"</span><span class="p">:</span><span class="s2">"0.00031"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSD"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"update"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eventId"</span><span class="p">:</span><span class="mi">773797763</span><span class="p">,</span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"events"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"change"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"6.95"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"delta"</span><span class="p">:</span><span class="s2">"9"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remaining"</span><span class="p">:</span><span class="s2">"9"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"ETHUSD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
</span><span class="err">...</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"change"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"initial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"1827.84"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"delta"</span><span class="p">:</span><span class="s2">"14.8"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remaining"</span><span class="p">:</span><span class="s2">"14.8"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"ETHUSD"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A WebSocket stream that provides multiple symbols with each frame containing a JSON message of the following format:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td><code class="prettyprint">heartbeat</code> or <code class="prettyprint">update</code></td>
</tr>
<tr>
<td><code class="prettyprint">socket_sequence</code></td>
<td>integer</td>
<td>zero-indexed monotonic increasing sequence number attached to each message sent - if there is a gap in this sequence, you have missed a message.  If you choose to enable heartbeats, then <code class="prettyprint">heartbeat</code> and <code class="prettyprint">update</code> messages will share a single increasing sequence.  See <a href="#sequence-numbers">Sequence Numbers</a> for more information.</td>
</tr>
</tbody></table>

<p>Messages with type <code class="prettyprint">heartbeat</code> have no additional fields.</p>

<p>Messages of type <code class="prettyprint">update</code> have the following additional fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">eventId</code></td>
<td><a href="#data-types">integer</a></td>
<td>A monotonically increasing sequence number indicating when this change occurred. These numbers are persistent and consistent between market data connections.</td>
</tr>
<tr>
<td><code class="prettyprint">events</code></td>
<td><a href="#data-types">array</a></td>
<td>Either a change to the order book, or the indication that a trade has occurred.</td>
</tr>
<tr>
<td><code class="prettyprint">timestamp</code></td>
<td><a href="#timestamps">timestamp</a></td>
<td>The timestamp in seconds for this group of events (included for compatibility reasons).  We recommend using the <code class="prettyprint">timestampms</code> field instead.</td>
</tr>
<tr>
<td><code class="prettyprint">timestampms</code></td>
<td><a href="#timestamps">timestampms</a></td>
<td>The timestamp in milliseconds for this group of events.</td>
</tr>
</tbody></table>

<h3 id="common-fields">Common fields</h3>

<p>All elements of the <code class="prettyprint">events</code> share the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><a href="#data-types">string</a></td>
<td>Either <code class="prettyprint">trade</code> or <code class="prettyprint">change</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">symbol</code></td>
<td>string</td>
<td>Will return the order book for which the message type is for. Only symbols provided in the URL parameter will be present in the stream. <code class="prettyprint">BTCUSD</code>, <code class="prettyprint">ETHUSD</code> or any <a href="#symbols-and-minimums">supported symbol</a></td>
</tr>
</tbody></table>

<h2 id="change-event">Change event</h2>

<p>Elements of type <code class="prettyprint">change</code> have the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price</code></td>
<td>decimal</td>
<td>The price of this order book entry.</td>
</tr>
<tr>
<td><code class="prettyprint">side</code></td>
<td>string</td>
<td>Either <code class="prettyprint">bid</code> or <code class="prettyprint">ask</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>string</td>
<td>Either <code class="prettyprint">place</code>, <code class="prettyprint">trade</code>, <code class="prettyprint">cancel</code>, or <code class="prettyprint">initial</code>, to indicate why the change has occurred.  <code class="prettyprint">initial</code> is for the initial response message, which will show the entire existing state of the order book.</td>
</tr>
<tr>
<td><code class="prettyprint">remaining</code></td>
<td>decimal</td>
<td>The quantity remaining at that price level after this change occurred.  May be zero if all orders at this price level have been filled or canceled.</td>
</tr>
<tr>
<td><code class="prettyprint">delta</code></td>
<td>decimal</td>
<td>The quantity changed. May be negative, if an order is filled or canceled.  For <code class="prettyprint">initial</code> messages, <code class="prettyprint">delta</code> will equal <code class="prettyprint">remaining</code>.</td>
</tr>
</tbody></table>

<p>Note that every trade will trigger a message with entries of both types <code class="prettyprint">trade</code> and <code class="prettyprint">change</code>.</p>

<p>To keep an up-to-date order book, just watch for any <code class="prettyprint">events</code> with <code class="prettyprint">{&quot;type&quot;: &quot;change&quot;}</code>, and update the price
level at <code class="prettyprint">price</code> with the amount at <code class="prettyprint">remaining</code>.  The initial response message will contain all the <code class="prettyprint">change</code> events necessary
to populate your order book from scratch.</p>

<h2 id="trade-event">Trade event</h2>

<blockquote>
<p>When a trade occurs:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375547515</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547760288</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestampms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547760288001</span><span class="p">,</span><span class="w">
  </span><span class="nt">"socket_sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">5375547515</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3632.54"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1362819142"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"makerSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Elements of the type <code class="prettyprint">trade</code> have the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price</code></td>
<td>decimal</td>
<td>The price this trade executed at.</td>
</tr>
<tr>
<td><code class="prettyprint">amount</code></td>
<td>decimal</td>
<td>The amount traded.</td>
</tr>
<tr>
<td><code class="prettyprint">makerSide</code></td>
<td>string</td>
<td>The side of the book the maker of the trade placed their order on. Either <code class="prettyprint">bid</code> or <code class="prettyprint">ask</code>.</td>
</tr>
</tbody></table>

          <h1 id="error-codes">Error Codes</h1>

<p>If a response is in error, then the HTTP response code will be set to reflect this, and a JSON body will be returned that will contain information about the failure.</p>

<h2 id="http-error-codes">HTTP Error Codes</h2>

<table><thead>
<tr>
<th>HTTP Status</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Request was successful</td>
</tr>
<tr>
<td>30x</td>
<td>API entry point has moved, see Location: header.  Most likely an <code class="prettyprint">http:</code> to <code class="prettyprint">https:</code> redirect.</td>
</tr>
<tr>
<td>400</td>
<td>Market not open, or the request was malformed; in the case of a private API request, missing or malformed Gemini private API authentication headers</td>
</tr>
<tr>
<td>403</td>
<td>The API key is missing the role necessary to access this private API endpoint</td>
</tr>
<tr>
<td>404</td>
<td>Unknown API entry point or Order not found</td>
</tr>
<tr>
<td>406</td>
<td>Insufficient Funds</td>
</tr>
<tr>
<td>429</td>
<td><a href="#rate-limits">Rate Limiting</a> was applied</td>
</tr>
<tr>
<td>500</td>
<td>The server encountered an error</td>
</tr>
<tr>
<td>502</td>
<td>Technical issues are preventing the request from being satisfied</td>
</tr>
<tr>
<td>503</td>
<td>The exchange is down for maintenance</td>
</tr>
</tbody></table>

<h2 id="error-payload">Error payload</h2>
<pre class="highlight javascript"><code>
<span class="p">{</span>
    <span class="s2">"result"</span><span class="err">:</span> <span class="s2">"error"</span><span class="p">,</span>
    <span class="s2">"reason"</span><span class="err">:</span> <span class="s2">"BadNonce"</span><span class="p">,</span>
    <span class="s2">"message"</span><span class="err">:</span> <span class="s2">"Out-of-sequence nonce &lt;1234&gt; precedes previously used nonce &lt;2345&gt;"</span>
<span class="p">}</span>
</code></pre>

<p>In the event of an error, a non-200 error code will be returned, and the response body will be a json object with three fields:</p>

<ol>
<li><code class="prettyprint">result</code>, which will always be &quot;error&quot;</li>
<li><code class="prettyprint">reason</code>, which will be one of the strings listed in the table below</li>
<li><code class="prettyprint">message</code>, a human-readable English string indicating additional error information.</li>
</ol>

<table><thead>
<tr>
<th>Reason</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>ClientOrderIdTooLong</td>
<td>The <a href="/rest-api/#client-order-id">Client Order ID</a> must be under 100 characters</td>
</tr>
<tr>
<td>ClientOrderIdMustBeString</td>
<td>The <a href="/rest-api/#client-order-id">Client Order ID</a> must be a string</td>
</tr>
<tr>
<td>ConflictingOptions</td>
<td>New orders using a combination of order execution options are not supported</td>
</tr>
<tr>
<td>ConflictingAccountName</td>
<td>The specified name is already in use within the master group</td>
</tr>
<tr>
<td>EndpointMismatch</td>
<td>The request was submitted to an endpoint different than the one in the payload</td>
</tr>
<tr>
<td>EndpointNotFound</td>
<td>No endpoint was specified</td>
</tr>
<tr>
<td>GTSTradeIDMustBeString</td>
<td>The <a href="/rest-api/#new-clearing-order">Clearing ID</a> must be a string</td>
</tr>
<tr>
<td>InsufficientFunds</td>
<td>The order was rejected because of insufficient funds</td>
</tr>
<tr>
<td>InvalidJson</td>
<td>The JSON provided is invalid</td>
</tr>
<tr>
<td>InvalidNonce</td>
<td>The nonce was not greater than the previously used nonce or was not within +/- 30 seconds of Unix Epoch timestamp</td>
</tr>
<tr>
<td>InvalidOrderType</td>
<td>An unknown order type was provided</td>
</tr>
<tr>
<td>InvalidPrice</td>
<td>For new orders, the price was invalid</td>
</tr>
<tr>
<td>InvalidStopPrice</td>
<td>For new stop limit orders, the price was invalid</td>
</tr>
<tr>
<td>InvalidStopPriceSell</td>
<td>For new stop limit sell orders, the &quot;stop_price&quot; price was lower than the &quot;sell&quot; price</td>
</tr>
<tr>
<td>InvalidStopPriceBuy</td>
<td>For new stop limit buy orders, the &quot;stop_price&quot; price was greater than the &quot;buy&quot; price</td>
</tr>
<tr>
<td>InvalidStopPriceRatio</td>
<td>For new stop limit orders, the &quot;buy&quot; or &quot;sell&quot; price was not within 50% of the &quot;stop_price&quot;</td>
</tr>
<tr>
<td>InvalidQuantity</td>
<td>A negative or otherwise invalid quantity was specified</td>
</tr>
<tr>
<td>InvalidSide</td>
<td>For new orders, and invalid side was specified</td>
</tr>
<tr>
<td>InvalidSignature</td>
<td>The signature did not match the expected signature</td>
</tr>
<tr>
<td>InvalidSymbol</td>
<td>An invalid symbol was specified</td>
</tr>
<tr>
<td>InvalidTimestampInPayload</td>
<td>The JSON payload contained a <code class="prettyprint">timestamp</code> parameter with an unsupported value.</td>
</tr>
<tr>
<td>InvalidAccountName</td>
<td>The specified name did not match any accounts within the master group</td>
</tr>
<tr>
<td>InvalidAccountType</td>
<td>The specified type did not match <code class="prettyprint">exchange</code> or <code class="prettyprint">custody</code></td>
</tr>
<tr>
<td>InvalidFundTransfer</td>
<td>The fund transfer was not successful</td>
</tr>
<tr>
<td>Maintenance</td>
<td>The system is down for maintenance</td>
</tr>
<tr>
<td>MarketNotOpen</td>
<td>The order was rejected because the market is not accepting new orders</td>
</tr>
<tr>
<td>MissingAccountName</td>
<td>A required account name was not specified in a field requiring one</td>
</tr>
<tr>
<td>MissingAccounts</td>
<td>A required <code class="prettyprint">account</code> field was not specified</td>
</tr>
<tr>
<td>MissingApikeyHeader</td>
<td>The <code class="prettyprint">X-GEMINI-APIKEY</code> header was missing</td>
</tr>
<tr>
<td>MissingOrderField</td>
<td>A required <code class="prettyprint">order_id</code> field was not specified</td>
</tr>
<tr>
<td>MissingRole</td>
<td>The API key used to access this endpoint does not have the required role assigned to it</td>
</tr>
<tr>
<td>MissingPayloadHeader</td>
<td>The <code class="prettyprint">X-GEMINI-PAYLOAD</code> header was missing</td>
</tr>
<tr>
<td>MissingPayloadKey</td>
<td>The payload is missing a required key</td>
</tr>
<tr>
<td>MissingSignatureHeader</td>
<td>The <code class="prettyprint">X-GEMINI-SIGNATURE</code> header was missing</td>
</tr>
<tr>
<td>MissingName</td>
<td>A required <code class="prettyprint">name</code> field was not specified</td>
</tr>
<tr>
<td>MissingNonce</td>
<td>A <code class="prettyprint">nonce</code> was not provided in the payload. See <a href="#private-api-invocation">Private API Invocation</a> for more detail.</td>
</tr>
<tr>
<td>MoreThanOneAccount</td>
<td>More than one account was specified on an API that only accepts a single account</td>
</tr>
<tr>
<td>AccountClosed</td>
<td>Account <code class="prettyprint">account</code> is closed and cannot be used for this operation.</td>
</tr>
<tr>
<td>AccountsOnGroupOnlyApi</td>
<td>The <code class="prettyprint">account</code> field was specified on a non-master API key</td>
</tr>
<tr>
<td>AccountLimitExceeded</td>
<td>The <code class="prettyprint">account</code> field specified more than the maximum supported accounts for that API</td>
</tr>
<tr>
<td>NoAccountOfTypeRequired</td>
<td>The <code class="prettyprint">account</code> field specified multiple accounts and some were not of the required account type</td>
</tr>
<tr>
<td>AccountNotOfTypeRequired</td>
<td>The account specified in the <code class="prettyprint">account</code> field was not of the required account type</td>
</tr>
<tr>
<td>NotGroupApiCompatible</td>
<td>A master API key was used to invoke an account only API</td>
</tr>
<tr>
<td>ExceededMaxAccountsInGroup</td>
<td>An account could not be created as the master group already has the maximum number of allowed accounts in it</td>
</tr>
<tr>
<td>NoSSL</td>
<td>You must use HTTPS to access the API</td>
</tr>
<tr>
<td>OptionsMustBeArray</td>
<td>The <code class="prettyprint">options</code> parameter must be an array.</td>
</tr>
<tr>
<td>OrderNotFound</td>
<td>The order specified was not found</td>
</tr>
<tr>
<td>RateLimit</td>
<td>Requests were made too frequently.  See <a href="#rate-limits">Rate Limits</a> below.</td>
</tr>
<tr>
<td>System</td>
<td>We are experiencing technical issues</td>
</tr>
<tr>
<td>UnsupportedOption</td>
<td>This order execution option is not supported.</td>
</tr>
<tr>
<td>HasNotAgreedToCustodyTerms</td>
<td>The Group has not yet agreed to the Custody terms and conditions. Please visit https://exchange.gemini.com/custody to read the terms and conditions of custody accounts.</td>
</tr>
<tr>
<td>BadAccountType</td>
<td>The <code class="prettyprint">type</code> parameter must contain a string of either <code class="prettyprint">exchange</code> or <code class="prettyprint">custody</code>.</td>
</tr>
<tr>
<td>RemoteAddressForbidden</td>
<td>Request received from an IP address that is not whitelisted under the group.</td>
</tr>
</tbody></table>

          <h1 id="revision-history">Revision History</h1>

<table><thead>
<tr>
<th>Date</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>2016/11/10</td>
<td>Initial WebSocket API documentation</td>
</tr>
<tr>
<td>2016/12/14</td>
<td>New feature: API key roles</td>
</tr>
<tr>
<td>2017/02/08</td>
<td>Better market data examples</td>
</tr>
<tr>
<td>2017/03/06</td>
<td>Documentation bugfix: correct location of market data JSON example for trade events</td>
</tr>
<tr>
<td>2017/05/15</td>
<td>Document Order Events <a href="#subscription-acknowledgement">Subscription Acknowledgement</a> <code class="prettyprint">subscriptionId</code> field</td>
</tr>
<tr>
<td>2017/05/15</td>
<td>Clarified how Gemini rate limits incoming requests to public WebSocket APIs</td>
</tr>
<tr>
<td>2017/07/13</td>
<td><strong>API Change</strong> <code class="prettyprint">timestamp</code> and <code class="prettyprint">timestampms</code> added to <a href="#market-data">Market Data</a> API</td>
</tr>
<tr>
<td>2017/07/27</td>
<td><em>Documentation bugfix:</em> clarify the purpose of the <code class="prettyprint">trace_id</code> in <a href="#heartbeats">Order Events: Heartbeats</a></td>
</tr>
<tr>
<td>2017/08/10</td>
<td><strong>New Feature</strong> to make it easy to detect WebSocket messages that were missed or received out-of-order, Gemini has added a <code class="prettyprint">socket_sequence</code> field to both the <a href="#market-data">Market Data</a> and <a href="#order-events">Order Events</a> APIs.  Further details available in <a href="#sequence-numbers">Sequence Numbers</a>.</td>
</tr>
<tr>
<td>2017/12/01</td>
<td><strong>API Change</strong> <code class="prettyprint">collar_price</code> added to <a href="#market-data">Market Data</a> API</td>
</tr>
<tr>
<td>2018/04/06</td>
<td><strong>API Change</strong> Document block trades in <a href="#market-data">Market Data</a> and <a href="#order-events">Order Events</a> APIs.</td>
</tr>
<tr>
<td>2018/06/06</td>
<td><strong>API Change</strong> Market depth and entry filtering added to <a href="#market-data">Market Data</a> API</td>
</tr>
<tr>
<td>2019/06/20</td>
<td>Adding documentation for <a href="#market-data-version-2">Market Data v2</a> and <a href="#candles-data-feed">Candles Data Feed</a></td>
</tr>
<tr>
<td>2019/11/22</td>
<td>Updated response messages for <a href="#candles-data-feed">Candles Data Feed</a> on <a href="#market-data-version-2">Market Data v2</a></td>
</tr>
<tr>
<td>2020/04/09</td>
<td>Documentation for new token support: <code class="prettyprint">BAT</code>, <code class="prettyprint">DAI</code>, <code class="prettyprint">LINK</code>, <code class="prettyprint">OXT</code></td>
</tr>
<tr>
<td>2020/08/28</td>
<td>Removing <code class="prettyprint">DAIBTC</code>and <code class="prettyprint">DAIETH</code> trading pairs</td>
</tr>
<tr>
<td>2020/10/05</td>
<td>Documentation for new order book support: <code class="prettyprint">BTCDAI</code> and <code class="prettyprint">ETHDAI</code></td>
</tr>
<tr>
<td>2020/10/07</td>
<td>Documentation for new token support: <code class="prettyprint">AAVE</code></td>
</tr>
<tr>
<td>2020/10/14</td>
<td>Documentation for new token support: <code class="prettyprint">FIL</code></td>
</tr>
<tr>
<td>2021/01/28</td>
<td>Documentation for new symbol support: <code class="prettyprint">BTCSGD</code> and <code class="prettyprint">ETHSGD</code></td>
</tr>
<tr>
<td>2021/03/11</td>
<td>Added new optional <a href="#order-events">heartbeat filter</a></td>
</tr>
<tr>
<td>2021/03/22</td>
<td>Documentation for new token support: <code class="prettyprint">SKL</code>, <code class="prettyprint">GRT</code>, <code class="prettyprint">BNT</code>, <code class="prettyprint">1INCH</code>, <code class="prettyprint">ENJ</code>, <code class="prettyprint">LRC</code>, <code class="prettyprint">SAND</code></td>
</tr>
<tr>
<td>2021/03/29</td>
<td>Documentation for new <a href="#multi-market-data">Multi Market Data Feed</a></td>
</tr>
<tr>
<td>2021/04/27</td>
<td>Documentation for new token support: <code class="prettyprint">CUBE</code>, <code class="prettyprint">LPT</code>, <code class="prettyprint">BOND</code>, <code class="prettyprint">MATIC</code>, <code class="prettyprint">INJ</code>, <code class="prettyprint">SUSHI</code></td>
</tr>
<tr>
<td>2021/05/05</td>
<td>Documentation for new token support: <code class="prettyprint">DOGE</code></td>
</tr>
<tr>
<td>2021/06/16</td>
<td>Documentation for new token support: <code class="prettyprint">ALCX</code>, <code class="prettyprint">MIR</code>, <code class="prettyprint">FTM</code>, <code class="prettyprint">ANKR</code></td>
</tr>
<tr>
<td>2021/07/14</td>
<td>Documentation for new token support: <code class="prettyprint">CTX</code></td>
</tr>
<tr>
<td>2021/07/21</td>
<td>Documentation for new token support: <code class="prettyprint">XTZ</code></td>
</tr>
<tr>
<td>2021/09/15</td>
<td>Documentation for new token support: <code class="prettyprint">AXS</code>, <code class="prettyprint">SLP</code>, <code class="prettyprint">LUNA</code>, <code class="prettyprint">UST</code>, <code class="prettyprint">MCO2</code></td>
</tr>
<tr>
<td>2021/11/13</td>
<td>Documentation for new token support: <code class="prettyprint">WCFG</code>, <code class="prettyprint">RARE</code>, <code class="prettyprint">RAD</code>, <code class="prettyprint">QNT</code>, <code class="prettyprint">NMR</code>, <code class="prettyprint">MASK</code>, <code class="prettyprint">FET</code>, <code class="prettyprint">ASH</code>, <code class="prettyprint">AUDIO</code>, <code class="prettyprint">API3</code>, <code class="prettyprint">USDC</code>, <code class="prettyprint">SHIB</code></td>
</tr>
<tr>
<td>2021/12/20</td>
<td>Documentation for new token support: <code class="prettyprint">RNDR</code>, <code class="prettyprint">MC</code>, <code class="prettyprint">GALA</code>, <code class="prettyprint">ENS</code>, <code class="prettyprint">KP3R</code>, <code class="prettyprint">CVC</code>, <code class="prettyprint">ELON</code>, <code class="prettyprint">MIM</code>, <code class="prettyprint">SPELL</code></td>
</tr>
<tr>
<td>2022/02/01</td>
<td>Documentation for new token support: <code class="prettyprint">TOKE</code>, <code class="prettyprint">LDO</code>, <code class="prettyprint">RLY</code></td>
</tr>
<tr>
<td>2022/02/28</td>
<td>Documentation for new token support: <code class="prettyprint">SOL</code></td>
</tr>
<tr>
<td>2022/03/01</td>
<td>Documentation for new token support: <code class="prettyprint">RAY</code>, <code class="prettyprint">SBR</code></td>
</tr>
<tr>
<td>2022/03/16</td>
<td>Documentation for new token support: <code class="prettyprint">APE</code></td>
</tr>
<tr>
<td>2022/03/29</td>
<td>Documentation for new token support: <code class="prettyprint">RBN</code>, <code class="prettyprint">FXS</code>, <code class="prettyprint">DPI</code>, <code class="prettyprint">LQTY</code>, <code class="prettyprint">LUSD</code>, <code class="prettyprint">FRAX</code>, <code class="prettyprint">INDEX</code>, <code class="prettyprint">MPL</code></td>
</tr>
<tr>
<td>2022/04/26</td>
<td>Documentation for new token support: <code class="prettyprint">GUSDSGD</code></td>
</tr>
<tr>
<td>2022/04/27</td>
<td>Documentation for new token support: <code class="prettyprint">METIS</code>, <code class="prettyprint">QRDO</code>, <code class="prettyprint">ZBC</code>, <code class="prettyprint">CHZ</code>, <code class="prettyprint">REVV</code>, <code class="prettyprint">JAM</code>, <code class="prettyprint">FIDA</code>, <code class="prettyprint">GMT</code></td>
</tr>
<tr>
<td>2022/05/17</td>
<td>Documentation for new token support: <code class="prettyprint">GFI</code>, <code class="prettyprint">ORCA</code></td>
</tr>
<tr>
<td>2022/06/14</td>
<td>Documentation for new token support: <code class="prettyprint">ALI</code>, <code class="prettyprint">TRU</code></td>
</tr>
<tr>
<td>2022/06/22</td>
<td>Documentation for new token support: <code class="prettyprint">GUSDGBP</code></td>
</tr>
<tr>
<td>2022/06/23</td>
<td>Deprecating documentation for Auction and Block trading support</td>
</tr>
<tr>
<td>2022/07/06</td>
<td>Documentation for new token support: <code class="prettyprint">DOT</code>, <code class="prettyprint">ERN</code></td>
</tr>
<tr>
<td>2022/08/01</td>
<td>Documentation for new token support: <code class="prettyprint">GAL</code>, <code class="prettyprint">EUL</code>, <code class="prettyprint">SAMO</code></td>
</tr>
<tr>
<td>2022/08/23</td>
<td>Documentation for new token support: <code class="prettyprint">BICO</code>, <code class="prettyprint">IMX</code>, <code class="prettyprint">PLA</code>, <code class="prettyprint">IOTX</code></td>
</tr>
<tr>
<td>2022/09/07</td>
<td>Documentation for new token support: <code class="prettyprint">BUSD</code></td>
</tr>
<tr>
<td>2022/10/11</td>
<td>Documentation for new token support: <code class="prettyprint">AVAX</code></td>
</tr>
<tr>
<td>2023/01/10</td>
<td>Documentation for new token support: <code class="prettyprint">ATOM</code>, <code class="prettyprint">USDT</code></td>
</tr>
<tr>
<td>2023/05/09</td>
<td>Documentation for new token support: <code class="prettyprint">PEPE</code></td>
</tr>
<tr>
<td>2023/08/04</td>
<td>Documentation for token delist: <code class="prettyprint">ENJ</code></td>
</tr>
<tr>
<td>2023/08/10</td>
<td>Documentation for new token support: <code class="prettyprint">XRP</code></td>
</tr>
<tr>
<td>2023/09/11</td>
<td>Documentation for new token support: <code class="prettyprint">HNT</code></td>
</tr>
<tr>
<td>2023/09/18</td>
<td>Removed Documentation for new token support: <code class="prettyprint">MPL</code>, <code class="prettyprint">MC</code>, <code class="prettyprint">METIS</code>, <code class="prettyprint">RBN</code>, <code class="prettyprint">GFI</code>, <code class="prettyprint">LQTY</code>, and <code class="prettyprint">LUSD</code></td>
</tr>
<tr>
<td>2023/11/15</td>
<td>Remove Documentation for delisted token: <code class="prettyprint">MIR</code>, <code class="prettyprint">UST</code>, <code class="prettyprint">FXS</code>, <code class="prettyprint">FRAX</code>, <code class="prettyprint">BUSD</code></td>
</tr>
<tr>
<td>2024/04/23</td>
<td>Remove Documentation for delisted token: <code class="prettyprint">ZEC</code></td>
</tr>
<tr>
<td>2024/05/21</td>
<td>Adding &#39;tid&#39; to the TRADE RESPONSE events under <a href="#market-data-version-2">Market Data v2</a></td>
</tr>
<tr>
<td>2024/05/05</td>
<td>Remove Documentation for delisted token: <code class="prettyprint">OXT-BTC</code>,<code class="prettyprint">OXT-ETH</code>,<code class="prettyprint">BAT-BTC</code>,<code class="prettyprint">BAT-ETH</code>, <code class="prettyprint">BTC-DAI</code>, <code class="prettyprint">ETH-DAI</code></td>
</tr>
</tbody></table>

          <ul style="list-style-type: none; padding-left: 28px;">
    <li>Trust is Our Product™</li>
    <li>For trademarks and patents, please see the <a href="https://gemini.com/legal-notice">Legal Notice</a>.</li>
    <li>NMLS #1518126</li>
    <li>© Copyright 2022 Gemini Trust Company, LLC.</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
